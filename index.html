<!DOCTYPE html>
<html lang='ru'><head><title>AXMA Story Maker</title><link rel='apple-touch-icon' href='http://sm.axmasoft.com/rsc/apple-touch-icon.png' /><meta http-equiv='Content-Type' content='text/html; charset=utf-8'><meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no'><meta name='mobile-web-app-capable' content='yes'><meta name='apple-mobile-web-app-capable' content='yes'><meta name='apple-mobile-web-app-status-bar-style' content='black'><meta name='format-detection' content='telephone=no'><meta http-equiv='X-UA-Compatible' content='IE=edge'><style type='text/css'>@import url('https://fonts.googleapis.com/css?family=El+Messiri|Ruslan+Display');@import url('https://fonts.googleapis.com/css?family=Cormorant+Infant');*, #body {  -webkit-text-size-adjust:none; -webkit-tap-highlight-color:rgba(0,0,0,0); -webkit-focus-ring-color:rgba(0,0,0,0); outline:none; -webkit-touch-callout:none; -moz-user-select:none; -o-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -ms-user-select:none; user-select:none; -webkit-user-drag:none; user-drag:none;}p {margin-top:0; margin-bottom:0.6em;}html, #body {margin:0; height:100%; overflow:hidden;}#body, input {font-size:95%;}#body, .input_text, .input_butt {font-family: 'El Messiri', sans-serif;}.input_text, .input_butt, #printCont, #printAdd, #printImage, .wind, .button, .buttonno, .buttonback, .dialogButton, #shadowlayer {background-color:rgba(0,0,0,0.5); color:#FFFFFF;}#body {  background-image:url(#);  background-repeat:repeat;  background-color:#222222;  word-wrap:break-word;}#toolbar, #toolbar * {background-color:transparent; color:#FFFFFF;}#menu, #menu * {background-color:transparent; color:#E9D460;}#toolbar {height:36px; position:absolute; top:0; left:0; width:100%; padding:6px 0; overflow:hidden; z-index:1; font-size:0.9em;}#toolbar, #menu {opacity:0.85;}#page, #printCont, #printImage, #printAddCont, #printAdd, #printAddText, #console, #toolbar, .wind, #menu, .button, .buttonno, .buttonback, .input_text {-moz-box-sizing:border-box; -webkit-box-sizing:border-box; box-sizing:border-box;}#page {display:none; height:100%; max-height:100%; width:100%; max-width:600px; text-align:left; padding:0; margin:0 auto;}#printTitle {display:block; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}#printCont, #printImage, #menu, #toolbar {box-shadow:none;}#printCont {position:absolute; top:36px; bottom:36px; left:0; right:0; padding:0 10px; overflow:auto; -webkit-overflow-scrolling:touch;}#printImage {display:none; overflow:hidden; position:absolute; top:36px; bottom:36px; left:0; right:0;}#clickImage {width:100%; height:100%; object-fit:cover; max-width:none;}#print, #printAdd, #menu {line-height:1.4em;}#print {margin:0 auto; max-width:600px;}#menu {height:36px; max-height:36px; margin:0; padding:3px 3px 3px 20px; font-size:13px; overflow:auto; -webkit-overflow-scrolling:touch; position:absolute; left:0; right:0; bottom:0; text-align:center; z-index:98; line-height:1.1em;}#menuTable {height:100%;}#menu span {background-color:inherit; border:none; border-radius:0; padding:0; display:inline-block; margin:0 4px 0 0; max-width:100px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}#menu img {display:inline; max-height:20px; vertical-align:middle;}#printAddCont {display:none; padding:56px 20px; position:absolute; left:0; bottom:0; top:0; right:0; z-index:100; overflow:hidden;}#printAdd {width:100%; max-width:668px; margin:0 auto; padding:0 10px; max-height:100%; overflow:auto; -webkit-overflow-scrolling:touch; box-shadow:0 0 3px #000;}#printAddText {text-align:left;position:relative;}.wind {display:none; position:absolute; width:240px; margin-top:-110px; margin-left:-120px; height:auto; max-height:220px; left:50%; top:50%; z-index:101; padding:12px; text-align:center; overflow:auto; -webkit-overflow-scrolling:touch; font-size:15px; box-shadow:0 0 3px #000; line-height:1.6em;}.plink, .plinkno, a, .button, .buttonno, .buttonback, .dialogButton, #storytitle {color:#E9D460; text-decoration:none; -webkit-tap-highlight-color:rgba(128,128,128,0.2);}.wind .plink, .wind .plinkno {color:inherit;}.button, .buttonno, .buttonback, .dialogButton {display:table; font-size:0.95em; border-width:2px; border-style:solid; border-color:#FFFFFF; padding:3px 8px; margin:0 4px 2px 0; max-width:90%; -webkit-hyphens: auto; hyphens: auto; border-radius:24px; -webkit-tap-highlight-color:rgba(128,128,128,0.2);}.dialogButton {display:inline-block; padding:2px 0px; margin:0; min-width:30px; width:44%;}.plinkno, .buttonno {opacity:0.6;}#storyauthor {font-size:1.3em; letter-spacing:0.12em; line-height:1;}#storytitle {font-size:1.8em; margin:1em 0; line-height:1;}#storyauthor p, #storytitle p {margin:0;}#storysubtitle {font-size:0.8em; text-align:center; max-height:8em; overflow:auto; -webkit-overflow-scrolling:touch;}tt, #console {font-family:Menlo, Monaco, 'Droid Sans Mono', 'Courier New', Courier, 'Lucida Console', monospace;}.input_text {-webkit-appearance:none; margin:0; padding:4px; width:90%; border-width:0;}.input_text, #console, #console *, tt {-moz-user-select:text; -o-user-select:text; -khtml-user-select:text; -webkit-user-select:text; -ms-user-select:text; user-select:text;}.input_butt {-webkit-appearance:none; margin:0; text-align:right; width:10%; padding:4px; border:none;}.myinput, .trow {border-width:2px; border-style:solid; border-color:#FFFFFF;}.myinput {padding:2px; width:100%; margin:0 auto; clear:both;}.trow, .trow_nb {word-wrap:break-word; table-layout:fixed; margin-bottom:4px;}.trow_nb {border:none;}.rcol {border-left-width:2px; border-left-style:solid; border-left-color:#FFFFFF;}.hr {color:#FFFFFF; background-color:#FFFFFF; width:100%; border:none; height:2px;}.asterisk {font-size:1.2em; text-align:center; margin:0;}.header {color:#59ABE3;}.header {font-size:1.3em; text-align:center; padding:0.5em 0; display:block;}img {max-width:100%; border:none; margin:0; padding:0;}.file {max-width:100%; display:block; margin:0.2em auto;}.avatar {visibility:hidden; max-width:90%;}.video {position:relative; padding-bottom:56.25%; padding-top:30px; height:0; overflow:hidden;}.video iframe, .video object, .video embed {position:absolute; top:0; left:0; width:100%; height:100%;}li {margin-left:0px; list-style-type:circle;}.choice {margin-left:1.75em; position:relative;}.choice .plink {margin:0.5em 0;}.choice .plink:before {content:'✓'; position:absolute; left:-1.5em; visibility:hidden; color:#FFFFFF; -webkit-transition:opacity 0.5s ease; transition:opacity 0.5s ease; opacity:0;}.choice .selected:before {visibility:visible; opacity:1;}#console {position:absolute; top:0; right:0; left:0; z-index:99; margin-top:36px; padding:0 5px; color:#000000; height:0; overflow:hidden; -webkit-overflow-scrolling:touch; font-size:12px; -webkit-transition:height 0.5s ease; transition:height 0.5s ease;}body {scrollbar-face-color:#FFFFFF; scrollbar-track-color:rgba(0,0,0,0.5);}{}::-webkit-scrollbar{	width:6px;	height:6px;}{}::-webkit-scrollbar-corner{	background:transparent;}{}::-webkit-scrollbar-track{	background:transparent;}{}::-webkit-scrollbar-thumb, .scrollbar{	background-color:rgba(255,255,255,0.2); border-radius:0; opacity:0.7;}.imgbutton {display:inline-block; width:24px; height:24px; background-size:24px;}.imgbutton:hover {opacity:0.8;}#showImageButton {position:absolute; background:#FF0000; bottom:0; left:0; width:20px; height:36px; font-size:20px; overflow:hidden; text-align:center; z-index:100; background:no-repeat center center url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAAMFBMVEUAAAD////F5P9/wkbW7P9nvEgSiUa02//95ASr1/+Zy/mHvvB1seg9tEz90QTf8f96IAwnAAAAAXRSTlMAQObYZgAAAF1JREFUCNdjwAoEwUAAyJLoeHPmzBkI6/Xu3bshrFerVq0CseTeWc6cORPEEi9XKi8vB7GElEAAxBJxAQEQSyzt/7e0/yCW7N203LtpIJZoKAiAWMLGICCAZC9+AAD1sR3QeboaSAAAAABJRU5ErkJggg==);}#audioButton {display:none; opacity:0.5; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAdVBMVEUAAAAAAAAcFhwBAQAAAAABAwMAAQEAAAEAAAEBAAEBAQEBAQABBAMCAgIEAQEHAQgXChAAAAD////v8O8FBQXd3N0REhH49/dKSksiIiK8vLx1dHRiYmIzMjLl5uXPzs6MjIyop6afoKA5ODiIiIctLS1TU1P4ylzxAAAAEXRSTlMA9QfmxWju27KqjXhbSTQYEOwosOkAAAGNSURBVEjHlVbpmoIwDGw5lkvQBKkI4r2+/yNuytpyo5kfBf1mvnaGNK2YwEnjyAukDLwoTh3xATs/lNCDDP3dCt1JfmCCn8RZovsuzML1ZyVbDxbhbaf8zIUVuNmYv5GwCrkZ8eEjBopMfhbIrOfXhS/gWufOQj77cVYmXX9CLWsabljcXwOR/57AnfAPSOMBCedTf1H/UyRj/oOo9Li2CqwUWCRtvY3r5zcnWuvh8TzTa3Hs6mo34+CoSaj5CkBdtUINXIRDvirwLaiwqPfaD1ZgEJJlOeRfUMOYLhoo6WGdS0ekw+grtIJae8kbuJLOppuK2K79fsYOrfqUa66isTSsWESGn2MfXWA1PBHvRhAJUxY3nBHACfECD5rHlocI3m/5rGBPfytFv42JQJiQcFYAFFoDWmViYgvYS2Kb5sfafbhb/s2HY5cGu/i45b26gY4zG2h9izbTLcptAkttxprG4jVoM0uN7GUaWQl9+OxWyW3G3HbPPVD4Rxb/UOQfu/yDnX914F9O2NefP39lfM3WWZekAAAAAElFTkSuQmCC);}#BackButton {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAVFBMVEUAAAAAAAABAQAAAAEBAwMaBw4AAAEBAAAAAQABAQEBAQABBAMBAQEEAQEHAQgAAAD////19fXs6+xDQ0M9Pj0sKywwMDCysrOlpaUfHx/l5uW8vLzhDUXHAAAAD3RSTlMA9OauaA3bx8KNeFtJNBjKe016AAABO0lEQVRIx5VW25aDIAw04r3aAIvabv//P9fD0lIhkpN58WXmQCZmQpVjHtXQAXSDGueKQ9sowC+AatoSfQLMANOlpKmRRN2Q9HuPl+jvOX+psYB6Sfk3wCLglvCRxUmxAC+A5ave0/23l9avjagjVn7y58foA2YlvPr4n/A9dszRhP7WBF8bytz/nk8UX1skMPkDgOLrB+lUGytI+PaJeFGFIvkrklCHAAR8hGO+GH6CuRpFfBwrFfkFmMfzXcTgv1uZH20bqs5/9zI7NqYLJlle8BtskgrEVwpFr4Y9IBT9ttWVFTbaOmKmsFupcTOKFEc8g0QB/vcWKNR5gBw/QMmIOnZE0xBwTAjkMeOYmMmDzDFB5tHnCktGJR3G627MvlJhLI176UKRryz5UpSvXflilz8d5I8T8fPnD0myayNfQ66jAAAAAElFTkSuQmCC);}#ConsoleButton {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAdVBMVEUAAAAAAAAAAAABAwMaBw4AAQEBAQABAQAAAAEAAAEBAAEAAQEBAQABBAMBAQEEAQEHAQgAAAD///8REhK7urmAf4AZGBnw8PAwMDBsbGw3ODji4uLPz88qKiqJiIhdXl1TU1PDxMOtrK2WlpZAQECgoKEGBwdlGHtXAAAAEXRSTlMA9cVoDe7n5Nuyqo14W0k0GKX4OrsAAAGKSURBVEjHpdbbcqswDAVQ24SWW0i3CDEEcmmS9v8/8XROO5ZEcJhM1rM9shCWbO7VZeEyazNXlLVZskpyC8HmyerR8irFnbSKbkneMOstMXM+HKLch7mzeccD7xszsbZ4yK4n67FI7dhYSM3u0HWHXaNjbES+6vxd/zV6Ij9+nTqVB2fu5PLjQMHQHsBc+P5gp5GU8QSW/NVX1Kv3NOF7UcHfmldiPc0QMar/AVI+v6cZnvNIVzqDLc266CxyDkARHCI3xnDNjhTRcvWMqRGMFPGJoDYlAk8RA4LSFAgoxiMojHsugjPZczlkxiK4UsQRgZUb9hTRyQ0Z2CfN2kIeyWEphO/UnSggtDSjh1Bw4WJ/RwupNDWUfiBl6KHUfz8fu11JuO6h2PB7s28SvqHlfIEYCZhI+IqynQAtXXETYI0AreI2s3wkbjPTLLYClES1ymUu0ozPbXDWzTjS7s8UnFW7jw6U28XTD3+5QVg/GFnNYf+ja9TIem0oLo/dlwb78tPhpcfJ08+ff4UFe7qTeKPjAAAAAElFTkSuQmCC);}#PrefsButton {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAgVBMVEUAAAAAAAAcFhwBAQABAwMAAQEAAAEBAAAAAQAAAAEBAAEBAQEBAQABBAMBAQEEAQEHAQgXChAAAAD///8TExP19PSjo6IEBATV1dXu7u3i4uFERUasrKwgIB+WlpaNjoxXWFm8vLxMTExgX18/Pz8wMTGzs7OCgYJ8fXxtbW0qKip12iDsAAAAEnRSTlMA9QfmaO7bx8Kyqo14W0k0GBAY7GJBAAACGklEQVRIx6VW6XKDIBBWa9OYpKYREA8Uj9oc7/+AdWA5AmEymXx/1GUX9tsLIw9Jvt9tN3G82e72eRI9wSnN4sJCnKWnKIzk8Fl4+DwkIfX0o3iIj/Shyc9XEcTXj69/hO0Dhxxd/W/gGkL87eg767jrsCO6szg6+3cjQmPnnHG0+Lr+92hF7/LQzBM3PrRGK2rqxkpFN1WS3xYLAhwJcPnV/qr1FA5QDvGmGa9Lex4RYDy3y3VsGk7BKXnEAfSvQqlqkIWmEo8rqBxEvan6KVEQpaqr0x2DsMEdi6xQ+Avp/2mVbKVscjZojbpaUevP2WQvifJCg8M6KSe8hnMqCQisFObR3tRPDdvrDWeQEFNX+2in9XskMRSek7222EVb+dKeFWVWWGCK9rmVgm20Ec+LSReswD4mhRch2EQySARpYNsAGzmRYQID9NwASQNwqSdOVr3sk166BKTpXFa6bqjuC11fVTlTIG3CyhRrnzMzYbUS1xGIx6QkUwPudCZxVmno82veYkpxy4n2UiN/XHzNyNhoUjNYxQflHegg74TMbqAFBbHoBrJbtA8b9LpF7SFwkYyJrUlkgV/0ELDHDGY1qfg0iBRCuoaJV6Rm2B4zhgUd5k4kpASu8mseqGIQGpWYQJ8FRiUMY7dvmDeMw+N+qVYCiz/uwxfKbZpu7oXyzpXlX4p0hXMpvnXtPr/YX/x1eOvn5OXfn3/w+Ibw3Z3WrwAAAABJRU5ErkJggg==);}#body, .choice .plink:before {cursor:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABYlBMVEUAAAA/Pz82Njb///8vLy////8tLS03NzeJiYklJSX39/ciIiJBQUEzMzMzMzOZmZn///8mJiY3Nzc0NDTg4OA2NjZMTEwsLCxubm5GRkZWVlYzMzM0NDQzMzM0NDQzMzMyMjIxMTEzMzMyMjIyMjIpKSk0NDTn5+f9/f09PT3Jycns7Oza2tpycnKrq6tDQ0OysrJcXFwzMzMzMzMyMjIxMTEzMzMxMTEzMzMxMTFAQECioqLZ2dkdHR03Nzfv7+/r6+vS0tJCQkIzMzOYmJi8vLy4uLhRUVEwMDDp6emioqJpaWmLi4uGhoZlZWXGxsaQkJB6enpZWVk0NDSFhYU2NjaXl5c2NjYzMzMyMjI1NTUyMjIyMjIyMjIyMjI1NTUzMzMrKys5OTn////7+/s6OjokJCQ3Nzc0NDSampomJiYxMTEtLS39/f04ODg5OTkvLy8qKir4+PgsLCwjIyMeHh7+hwJIAAAAY3RSTlMAA/H7Bfr47eL79/r201T+9/b19fT08/Px8fDvz7u1X0o7KhYR/vn29PTz8vDw7+/u7evdkXNoYkMmCPj39/b19fT09PPy8vHx8PDw7+/v7ezs6ebk5OPgyMbBrJ2AeiIZDAnUBOCsAAABsElEQVQ4y33SZ1vqMBQH8JTYXluGcEH2Bvce13X33su91yEk0lrA8f2N9YmPJOJpkhc5v+f/ojnoODeYr6Ae1LVyzVZz7egJ8dFOJVim3F28uXo57aeDpa7ieb0PJiOMLXHRFeDPBqMhIRRwBhfwN2G7i0h7DPRzUKvB+6jTfCGECvg37nPIAdJU4vMAX0Mf2mQeiRAF8D2WapN9IVTAD+urSfaEUAE/h2dMkuNCAn0e8AT+4yc7PULICQDnEJ4wSbCKtA7wj4N7gf+/pnOVjoRGL66JNi/9k+FuK4A3eRfrujX0anzVYcsPwLNGr/cnAayJdHyk3zAZzZzIoAZv3wFOXrdsSimbLSIJXIAV+A0QM9xsIVQqryCtE2AYm2oELMA/2xvendaZsA6xQJvUJwFGI+QQrYi2AFeb3785NHqZ1kFPO1vKWM06M4FLUlggkVGALyYpyI+VdQ2bLqKqbyCJIRxvZeWEUoZGQ+gUzbuJGMAPPynKEdWlyu2klWn9F0A4ZecloHmbrzwbGdanp+wgkku7O4rUSMb9NhGzrVawOdAicwtqQ+QsB9luSLm/ARNReAP/nQ5NAAAAAElFTkSuQmCC),default;}a, .plink, .button, .buttonback, .dialogButton, .input_butt, .imgbutton, #showImageButton, .sprite[active], #backVideoSkip, #shadowlayer, .updateButton {cursor:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABZVBMVEUAAABDQ0M0NDQ2NjI1NDI3NjIzMzP/1gAlKDb3xgI0NDM2NjKKdB3/1AD/0AAiJjdsXiQzMzMzMzIyMjL/zQAmKTZCPi/gtAfouwUsLjRMRixZUClEPy6wkRM0MzM0NDIzNDMyMjMzMzMyMjItLjQ0NDMtLjX/0QD9ygA3NjLJpA5HQi1TSyu6mBHsvgRyYiPasAmOdhwzMzNZTyo2NTKHcR4zMzMyMzMyMjMxMTIzMzMxMjQzMzMzMzMzMzMyMjIxMTH/3AAvMDQrLTSihxcdIzlBPS/ZsAk+PDDrvQXvwQRBPjDSqguYfxk8OjAxMjOihhdlWSaGcR4zMzOqjBbGoA56aSE0MzOXfhoyMjIyMjQyMjQyMjIwMDU1NTUrKyv/////1gAkKDc6OTaagBkmKTc2NjYwMTU3NjQ4ODYtLzX/0wArLTU6OTT/2AD/0AAyMzYpLDY2NTP/4wD/zQAeJDn/2QAjmktHAAAAYHRSTlMAAwb18O3+/fv39fLj/Pv68dO9Fvn29vT08/Py7+/PtV9KKhH5+ff39PPz8vLy8vDw7uvp4uLdx5FzaGJVU0M8Jvr5+Pj39/f19fX09PPy8fDv7+3t7ezm46ydgHo6Igwu7hV9AAABs0lEQVQ4y33SZ1PbQBAG4JPiqIF7740WeocQWnpC772sfFhdxqb9ftBgcYNuzI6kD7eP3pubWxSN9BajiEUdK4JV/fjqAyGpQ2nFV+ksPtV+5YNK7yURFLi5P4gr3DIRFJD5kZ+ctkgEBeDpMK1q3xDTEYC8IRn6VyIoAI3xLsM+RwxNvrwCkFPrFp5HiOkEQB7NWfiMFl0uAFMcFvApERQAcyAr4AgRFIDbwG4Qz7FtQUAD3kT/mGCHq++Erz5BADz4j34rs1FHEDDDAynz++YPfQ69S+jm3b8DMTH1d3zK4FYRy7QLfa53y87uAOJYNvNP6hM4Zf+aBLSBvPYf+NCjqiqKxk2WEeMBppjYa0CyTyuUFlcq7XMSwJujuXpCBH+oNe0suX0XzNwn/1h2LS/DYBxfINZtu6B2kto2NMkaDkAga0xTYzVpTCUsXFrA8UETRgRc8l5WQe9pvkxb1dcK+SGWUQvehBWfJi0hFs3r6eQt7ATtsjeiuhx1Jq1yV5uQoX+oWfQAxnmdp6hsDcTyuWaY9AhxPmWtJ5QJqtidbbrCeku1ZxfohpuzGr6LLFHrzy8SdsLD0lZqAAAAAElFTkSuQmCC),pointer;}  #printCont, #printAdd, #printImage, #menu, .wind {border-width:10px; border-style:solid; border-color:inherit; border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkAQMAAADbzgrbAAAABlBMVEUAAAD9/f16ZUgdAAAAAnRSTlMAgJsrThgAAAAbSURBVAjXY0AG9v///z8AJQ2A/KFAIrsZCQAAqo8qMRrCikYAAAAASUVORK5CYII=) 10 round;}#shadowlayer {position:absolute; left:0; top:0; right:0; bottom:0; text-align:center; z-index:1; padding:2em; font-size:1.2em;}#shadowlayer div {margin-left:auto; margin-right:auto; max-width:50em;}.sprite {position:absolute; max-width:none; max-height:none; opacity:0; webkit-transition:all 500ms ease; transition:all 500ms ease;}.sprite[active]:hover {-webkit-transform:scale(1.05); transform:scale(1.05);}#backVideo {position:absolute; top:50%; left:50%; min-width:100%; min-height:100%; width:auto; height:auto; transform:translate(-50%,-50%);}#backVideoSkip {position:absolute; left:50%; width:1em; height:1em; line-height:1em; padding:0.2em; margin-left:-0.6em; top:50%; margin-top:-0.6em; font-size:2em; color:#fff; background-color:rgba(128,128,128,0.5); border-radius:50%; z-index:1; text-shadow:none; -webkit-transition:all 300ms ease; transition:all 300ms ease;}#backVideoSkip:hover {-webkit-transform:scale(1.1); transform:scale(1.1);}  #body {font-size:130%;}  #body,input {letter-spacing:1px;}  #console {text-shadow:none; letter-spacing:normal;}  #page {max-width:none; margin:0 auto; position:relative;}  #printCont {position:absolute; top:auto; left:0; right:0; bottom:0; width:100%; min-width:0; max-width:55em; height:auto; max-height:100%; padding:0 1em 0.3em 1em; margin:0 auto; border:none; z-index:1;}  #avatarBlock {max-width:25%; float:left;}  #print {max-width:none;}  #printAddCont {padding:80px 50px 44px 50px; z-index:2;}  #printAdd {padding:0 12px; max-width:800px; max-height:65%;}  #printImage {display:block; position:absolute; top:0; left:0; right:0; bottom:0; border:none;  background-color:rgba(0,0,0,0); cursor:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABYlBMVEUAAAA/Pz82Njb///8vLy////8tLS03NzeJiYklJSX39/ciIiJBQUEzMzMzMzOZmZn///8mJiY3Nzc0NDTg4OA2NjZMTEwsLCxubm5GRkZWVlYzMzM0NDQzMzM0NDQzMzMyMjIxMTEzMzMyMjIyMjIpKSk0NDTn5+f9/f09PT3Jycns7Oza2tpycnKrq6tDQ0OysrJcXFwzMzMzMzMyMjIxMTEzMzMxMTEzMzMxMTFAQECioqLZ2dkdHR03Nzfv7+/r6+vS0tJCQkIzMzOYmJi8vLy4uLhRUVEwMDDp6emioqJpaWmLi4uGhoZlZWXGxsaQkJB6enpZWVk0NDSFhYU2NjaXl5c2NjYzMzMyMjI1NTUyMjIyMjIyMjIyMjI1NTUzMzMrKys5OTn////7+/s6OjokJCQ3Nzc0NDSampomJiYxMTEtLS39/f04ODg5OTkvLy8qKir4+PgsLCwjIyMeHh7+hwJIAAAAY3RSTlMAA/H7Bfr47eL79/r201T+9/b19fT08/Px8fDvz7u1X0o7KhYR/vn29PTz8vDw7+/u7evdkXNoYkMmCPj39/b19fT09PPy8vHx8PDw7+/v7ezs6ebk5OPgyMbBrJ2AeiIZDAnUBOCsAAABsElEQVQ4y33SZ1vqMBQH8JTYXluGcEH2Bvce13X33su91yEk0lrA8f2N9YmPJOJpkhc5v+f/ojnoODeYr6Ae1LVyzVZz7egJ8dFOJVim3F28uXo57aeDpa7ieb0PJiOMLXHRFeDPBqMhIRRwBhfwN2G7i0h7DPRzUKvB+6jTfCGECvg37nPIAdJU4vMAX0Mf2mQeiRAF8D2WapN9IVTAD+urSfaEUAE/h2dMkuNCAn0e8AT+4yc7PULICQDnEJ4wSbCKtA7wj4N7gf+/pnOVjoRGL66JNi/9k+FuK4A3eRfrujX0anzVYcsPwLNGr/cnAayJdHyk3zAZzZzIoAZv3wFOXrdsSimbLSIJXIAV+A0QM9xsIVQqryCtE2AYm2oELMA/2xvendaZsA6xQJvUJwFGI+QQrYi2AFeb3785NHqZ1kFPO1vKWM06M4FLUlggkVGALyYpyI+VdQ2bLqKqbyCJIRxvZeWEUoZGQ+gUzbuJGMAPPynKEdWlyu2klWn9F0A4ZecloHmbrzwbGdanp+wgkku7O4rUSMb9NhGzrVawOdAicwtqQ+QsB9luSLm/ARNReAP/nQ5NAAAAAElFTkSuQmCC),default;}  #menu {position:absolute; top:56px; left:auto; right:10px; bottom:auto; max-width:240px; height:auto; max-height:50%; font-size:0.9em; line-height:1.6em; opacity:1; padding:0; border:none; box-shadow:none; z-index:0;}  #menu, #menu *, .myinput * {background-color:rgba(0,0,0,0);}  #menuTable {height:auto;}  #menu span {display:block; text-align:right; float:none; clear:both; margin:0 auto; white-space:normal; word-break:break-all; width:auto; max-width:none; -webkit-backdrop-filter:none; backdrop-filter:none;}  #menu span:hover {opacity:1; padding-left:0.2em; -webkit-transform:translate(-0.2em); transform:translate(-0.2em);}  #menu img {display:block; float:right; clear:both; max-height:64px;}  .button, .buttonno, .buttonback {width:auto; margin:0 auto 1em auto; text-align:center; background-color:transparent; border-style:none;}  #printAdd, .wind, #console {-webkit-backdrop-filter:blur(3px); backdrop-filter:blur(3px);}  .typer_1 {opacity:0;}  .typer_2 {opacity:1; -webkit-transition:opacity 100ms ease; transition:opacity 100ms ease;}  #buttonsList {position:absolute; width:auto; padding:1em 0; margin:0 auto; max-height:50%; top:auto; left:0; right:0; bottom:40%; overflow-y:auto; overflow-x:hidden; -webkit-overflow-scrolling:touch;}  #buttonsList *, #menu span, #menu span:hover {-webkit-transition:all 500ms ease; transition:all 500ms ease;}  #buttonsList *:hover {-webkit-transform:scale(1.08); transform:scale(1.08); margin-top:1em;  text-shadow:inherit;}  #printCont, #buttonsList, #menu, #toolbar {-webkit-transition:opacity 0.5s ease; transition:opacity 0.5s ease;}  #spacer, #showImageButton {display:none;}  .video {margin:0 auto; padding:0; max-width:300px; height:200px;}@media only screen and (max-width:599px), only screen and (max-height:599px) {  #body {font-size:90%;}  #printAddCont {padding:36px 20px 44px 20px;}  #menu img {max-height:32px;}  #avatarBlock {max-width:40%; max-height:100%;}}#printCont {	display:block; position:absolute; top:0; bottom:0; left:0; right:0; padding:2em 1em; width:80%; text-align:center; max-width:40em;	border-left: 4px solid #663300;	border-right: 4px solid #663300;}.mylink {	display: inline-block;	margin-top: 0.5em;}.amulet {	display: inline-block;	width: 100px;	height: 100px;	background: #283b99;	margin: 2px;	border-radius: 5px;	border: 1px solid black;}.effect_fade {	-webkit-animation-name: effect_fade;	animation-name: effect_fade;	-webkit-animation-fill-mode: both;	animation-fill-mode: both;	-webkit-animation-duration: 1000ms;	animation-duration: 1000ms;}@-webkit-keyframes effect_fade {	0% {opacity: 0;}		100% {opacity: 1;}}@keyframes effect_fade {	0% {opacity: 0;}		100% {opacity: 1;}}.effect_fade_fast {	-webkit-animation-name: effect_fade;	animation-name: effect_fade;	-webkit-animation-fill-mode: both;	animation-fill-mode: both;	-webkit-animation-duration: 400ms;	animation-duration: 400ms;}.effect_bounce {-webkit-animation-name:effect_bounce;animation-name:effect_bounce;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:.7s;animation-duration:.7s;}@-webkit-keyframes effect_bounce {0% {opacity:0;-webkit-transform:scale(.3);}50% {opacity:1;-webkit-transform:scale(1.05);}70% {-webkit-transform:scale(.9);}100% {-webkit-transform:scale(1);}}@keyframes effect_bounce {0% {opacity:0;transform:scale(.3);}50% {opacity:1;transform:scale(1.05);}70% {transform:scale(.9);}100% {transform:scale(1);}}.effect_scale {-webkit-animation:effect_scale .5s ease-out both;animation:effect_scale .5s ease-out both;}@-webkit-keyframes effect_scale {from { opacity:0; -webkit-transform:scale(.4); }}@keyframes effect_scale {from { opacity:0; transform:scale(.4); }}.effect_fade_sprite {-webkit-animation:effect_fade_sprite 1s both linear;animation:effect_fade_sprite 1s both linear;}@-webkit-keyframes effect_fade_sprite {from { opacity:0; }}@keyframes effect_fade_sprite {from { opacity:0; }}.effect_flip {-webkit-transform-origin:50% 50%;-webkit-animation:effect_flipx .7s both ease-out;transform-origin:50% 50%;animation:effect_flipx .7s both ease-out;}@-webkit-keyframes effect_flipx {from { -webkit-transform:translateZ(-1000px) rotateY(90deg); opacity:0.2; }}@keyframes effect_flipx {from { transform:translateZ(-1000px) rotateY(90deg); opacity:0.2; }}.effect_fly {-webkit-animation:effect_fly 1s ease both;animation:effect_fly 1s ease both;}@-webkit-keyframes effect_fly {from { opacity:0; -webkit-transform:scale(3); }}@keyframes effect_fly {from { opacity:0; transform:scale(3); }}.effect_flash {-webkit-animation:effect_flash 10s 10s linear infinite;animation:effect_flash 10s 10s linear infinite;}@-webkit-keyframes effect_flash {0%   { -webkit-transform:scale(1); }3%  { -webkit-transform:scale(1.02); }6% { -webkit-transform:scale(1); }9%  { -webkit-transform:scale(1.02); }12% { -webkit-transform:scale(1); }}@keyframes effect_flash {0%   { transform:scale(1); }3%  { transform:scale(1.02); }6% { transform:scale(1); }9%  { transform:scale(1.02); }12% { transform:scale(1); }}.effect_slide_left {-webkit-animation-name:effect_slide_left; animation-name:effect_slide_left;}@-webkit-keyframes effect_slide_left {from {-webkit-transform:translate3d(100%,0,0); opacity:0;}to {-webkit-transform:translate3d(0,0,0);}}@keyframes effect_slide_left {from {transform:translate3d(100%,0,0); opacity:0;}to {transform:translate3d(0,0,0);}}.effect_slide_right {-webkit-animation-name:effect_slide_right; animation-name:effect_slide_right;}@-webkit-keyframes effect_slide_right {from {-webkit-transform:translate3d(-100%,0,0); opacity:0;}to {-webkit-transform:translate3d(0,0,0);}}@keyframes effect_slide_right {from {transform:translate3d(-100%,0,0); opacity:0;}to {transform:translate3d(0,0,0);}}.effect_slide_up {-webkit-animation-name:effect_slide_up; animation-name:effect_slide_up;}@-webkit-keyframes effect_slide_up {from {-webkit-transform:translate3d(0,100%,0); opacity:0;}to {-webkit-transform:translate3d(0,0,0);}}@keyframes effect_slide_up {from {transform:translate3d(0,100%,0); opacity:0;}to {transform:translate3d(0,0,0);}}.effect_slide_down {-webkit-animation-name:effect_slide_down; animation-name:effect_slide_down;animation-duration:1.7s;	-webkit-animation-duration:1.7s;}@-webkit-keyframes effect_slide_down {from {-webkit-transform:translate3d(0,-100%,0); opacity:0;}to {-webkit-transform:translate3d(0,0,0);}}@keyframes effect_slide_down {from {transform:translate3d(0,-100%,0); opacity:0;}to {transform:translate3d(0,0,0);}}.effect_hatch{animation-name:effect_hatch;-webkit-animation-name:effect_hatch;	animation-duration:2s;	-webkit-animation-duration:2s;animation-timing-function:ease-in-out;	-webkit-animation-timing-function:ease-in-out;transform-origin:50% 100%;-ms-transform-origin:50% 100%;-webkit-transform-origin:50% 100%; }@keyframes effect_hatch {0% {transform:rotate(0deg) scaleY(0.6);}20% {transform:rotate(-2deg) scaleY(1.05);}35% {transform:rotate(2deg) scaleY(1);}50% {transform:rotate(-2deg);}	65% {transform:rotate(1deg);}	80% {transform:rotate(-1deg);}		100% {transform:rotate(0deg);}									}@-webkit-keyframes effect_hatch {0% {-webkit-transform:rotate(0deg) scaleY(0.6);}20% {-webkit-transform:rotate(-2deg) scaleY(1.05);}35% {-webkit-transform:rotate(2deg) scaleY(1);}50% {-webkit-transform:rotate(-2deg);}	65% {-webkit-transform:rotate(1deg);}	80% {-webkit-transform:rotate(-1deg);}		100% {-webkit-transform:rotate(0deg);}		}.effect_fade_out {-webkit-animation-name:effect_fade_out;animation-name:effect_fade_out;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:1000ms;animation-duration:1000ms;}@-webkit-keyframes effect_fade_out {0% {opacity:1;}	100% {opacity:0;}}@keyframes effect_fade_out {0% {opacity:1;}	100% {opacity:0;}}.effect_button {-webkit-animation:effect_button .5s ease-out both;animation:effect_button .5s ease-out both;}@-webkit-keyframes effect_button {from { -webkit-transform:scale(.6); }}@keyframes effect_button {from { transform:scale(.6); }}.effect_avatar {-webkit-animation:effect_avatar 1s ease;}@-webkit-keyframes effect_avatar {from {-webkit-transform:translate3d(0,100%,0) scale(.3);}to {-webkit-transform:translate3d(0,0,0) scale(1);}}@keyframes effect_avatar {from {transform:translate3d(0,100%,0) scale(.3);}to {transform:translate3d(0,0,0) scale(1);}}.effect_sprite_hide {-webkit-animation-name:effect_sprite_hide;animation-name:effect_sprite_hide;-webkit-animation-fill-mode:both;animation-fill-mode:both;}@-webkit-keyframes effect_sprite_hide {100% {opacity:0;}}@keyframes effect_sprite_hide {100% {opacity:0;}}</style></head><body id='body' onclick='showPrefs(true);' oncontextmenu='showPrefs();return false;'><div id='toolbar' onclick='togglePrint();event.stopPropagation();'><table width='100%' cellpadding='0' cellspacing='0' border='0' style='table-layout:fixed;'><tr><td width='20%' align='left'><nobr><div class='imgbutton' style='margin-left:8px;' onclick='tbAnimate(this,event);Back(true);' id='BackButton'></div></nobr></td><td width='60%' align='center' valign='middle'><div id='printTitle'></div></td><td width='20%' align='right'><nobr><div class='imgbutton' style='margin-right:8px;' onclick='tbAnimate(this,event);PlayPauseButton();' id='audioButton' ></div><div class='imgbutton' style='margin-right:8px;' onclick='tbAnimate(this,event);showPrefs();event.stopPropagation();' id='PrefsButton'></div></nobr></td></tr></table></div><audio id='musicAudio' preload loop style='display:none;'></audio><div id='page'><div id='printCont'><div id='avatarBlock'></div><div id='print'></div></div><div id='printImage' onclick='togglePrint();event.stopPropagation();'><div style='height:100%;width:100%;text-align:center;'><span style='display:inline-block;height:100%;vertical-align:middle;'></span><img id='clickImage' src='#' style='vertical-align:middle;margin:0;border:none;' alt='' border='0'><div id='videoDiv'></div><div id='spritesDiv' style='position:relative;top:-100%;height:100%;overflow:hidden;'></div></div></div><div id='spacer'></div><div id='menu'><div id='menuTable' style='display:table;border-spacing:0;width:100%;min-width:100%;border:none;'><div style='display:table-row;'><div id='menuInner' style='display:table-cell;padding:0;width:100%;text-align:center;vertical-align:middle;'></div></div></div><div id='showImageButton' onclick='showImageToggle();'></div></div></div><div id='printAddCont' onclick="if(prefsDiv.style.display=='none' && dialogWind.style.display=='none'){showPrintAdd(false);}"><div id='printAdd'><div id='printAddText'></div></div></div><div id='prefs' class='wind' onclick='event.stopPropagation();'></div><div id='dialog' class='wind' onclick='event.stopPropagation();'></div><noscript style='position:absolute;top:40%;left:0;right:0;padding:5px;text-align:center;color:#FFFFFF;background-color:#222222;'>Для работы файла требуется, чтобы Javascript был включен в Вашем браузере</noscript><script type='text/javascript'>try {function $(id) {return document.getElementById(id);}function onLoadStory() {pageDiv.style.display = 'block';NewGame(true);}var printTitle = $('printTitle');var printDiv = $('print');var printContDiv = $('printCont');var printAdd = $('printAdd');var printAddCont = $('printAddCont');var printAddText = $('printAddText');var pageDiv = $('page');var menuDiv = $('menuInner');var avatarBlock = $('avatarBlock');var toolbarDiv = $('toolbar');var prefsDiv = $('prefs');var printImage = $('clickImage');var videoDiv = $('videoDiv');var spritesDiv = $('spritesDiv');if (!('objectFit' in document.body.style)) {printImage.style.width='auto';printImage.style.height='auto';printImage.style.maxWidth='100%';};var printImageBlock = $('printImage');var showImageButton = $('showImageButton');var consoleDiv = $('console');var dialogWind = $('dialog');var audioButton = $('audioButton');var badImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAhUlEQVQ4y7VUQQrAIAzzOf57H/Af+gt/UPC+FXoQVxe3RSEopSQprQ1hxymlxJzzcd1VYe/4Od8CrYfGZoQw35TaABmVO2fi5FdEeFP2nLmEIFHdJIOsCKNSEGTaROAUO3sYB/nlzCFOC4TpzaBzCOkl05pCH5sdg839evTlsGN9cRcs85zfmkXOXkhCxwAAAABJRU5ErkJggg==';var pictureDefault = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQI12NgAAIAAAUAAeImBZsAAAAASUVORK5CYII=';document.addEventListener('DOMContentLoaded',onLoadStory);function MessageFromFrame(s) {	window.parent.parent.postMessage(s,'*');}window.addEventListener('message', function(e) {	eval(e.data);});var LangCode = 'ru';var isWebKit  = 'WebkitAppearance' in document.documentElement.style;var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox')>-1;var isAndroid = navigator.userAgent.toLowerCase().indexOf('android')>-1;var isOnline  = /^http(s)?:\/\/.+?$/.test(document.URL);var isAndroidWebview = isAndroid && isOnline;function isMobile() {if (getComputedStyle(showImageButton,null).display=='none') {return false;}return true;}function Resize() {if (isMobile()) {printImageBlock.style.display = 'none';} else {printImageBlock.style.display = 'block';}}window.addEventListener('resize', Resize, false);window.addEventListener('orientationchange', Resize, false);document.addEventListener('dragstart', function(e){e.preventDefault();});var tmpdiv = document.createElement('div');tmpdiv.innerHTML = '<!--[if lt IE 10]><i></i><![endif]-->';var isIeLessThan10 = (tmpdiv.getElementsByTagName('i').length==1);if (isIeLessThan10) {document.onselectstart = function(){return false;}};window.onkeyup = function(e) {keysUp(e);};window.onkeydown = function(e) {keysDown(e);};printImage.onerror = function() {badImageShow(this);};var effectNames = ['effect_fade_sprite','effect_scale','effect_flip','effect_fly','effect_hatch','effect_slide_left','effect_slide_right','effect_slide_up','effect_slide_down'];function rgb2hex(rgb) {rgb = rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return (rgb && rgb.length === 4) ? '#'+('0'+parseInt(rgb[1],10).toString(16)).slice(-2)+('0'+parseInt(rgb[2],10).toString(16)).slice(-2)+('0'+ parseInt(rgb[3],10).toString(16)).slice(-2) : '';}function rgb2yuv(rgb){var y = clamp(rgb.r *  0.29900 + rgb.g *  0.587   + rgb.b * 0.114);var u = clamp(rgb.r * -0.16874 + rgb.g * -0.33126 + rgb.b * 0.50000 + 128);var v = clamp(rgb.r *  0.50000 + rgb.g * -0.41869 + rgb.b * -0.08131 + 128);return {y:y, u:u, v:v};}function yuv2rgb(yuv){var y = yuv.y;var u = yuv.u;var v = yuv.v;var r = clamp(y + (v - 128) *  1.40200);var g = clamp(y + (u - 128) * -0.34414 + (v - 128) * -0.71414);var b = clamp(y + (u - 128) *  1.77200);return {r:r,g:g,b:b};}function clamp(n){if (n<0) {return 0;}if (n>255) {return 255;}return Math.floor(n);}function dec2hex(n) {var hex = n.toString(16);if (hex.length < 2) {return '0' + hex;}return hex;}function rgb2hexColor(rgb) {return '#' + dec2hex(rgb.r) + dec2hex(rgb.g) + dec2hex(rgb.b);}function hexColor2rgb(color) {color = color.substring(1);return {r: parseInt(color.substring(0, 2), 16),g: parseInt(color.substring(2, 4), 16),b: parseInt(color.substring(4, 6), 16)};}function invertColor(rgb) {var yuv = rgb2yuv(rgb);var factor = 180;var threshold = 100;yuv.y = clamp(yuv.y + (yuv.y > threshold ? -factor : factor));return yuv2rgb(yuv);}var c = window.getComputedStyle(printContDiv,null).getPropertyValue('color');if (c.substr(0,3).trim()=='rgb') {c = rgb2hex(c);}c = rgb2hexColor(invertColor(hexColor2rgb(c)));var ts = c+' 1px 0px,'+c+' 1px 1px,'+c+' 0px 1px,'+c+' -1px 1px,'+c+' -1px 0px,'+c+' -1px -1px,'+c+' 0px -1px,'+c+' 1px -1px';document.getElementsByTagName('style')[0].innerHTML += 'body,input{text-shadow:'+ts+';}';var typer = {tags: ['img','button','input','u','textarea','hr','li','td','tr','th','table','thead','tfoot','tbody','video','audio'],classes: ['button','buttonno','buttonback','myinput'],class1: 'typer_1',class2: 'typer_2',spans: [],nextInt: undefined,typing: false,start: function() {this.spans = [];clearInterval(this.nextInt); this.nextInt = undefined;this.typing = true;printDiv.style.visibility = 'hidden';var text = printDiv.innerHTML;var textNodes = this.textNodesUnder(printDiv);var tag;for (i=0; i<textNodes.length; i++) {var node = textNodes[i];var words = node.textContent;if (node.nodeType==3) {var parentNode = node.parentNode;var parentNodeTag = this.getTag(parentNode);tag = '';if (parentNodeTag=='a') {tag += '<span class='+this.class1+'>'+words+'</span>';} else {words = words.split('');for (j=0; j<words.length; j++) {var word = words[j];if (word!='') {tag += '<span class='+this.class1+'>'+word+'</span>';}}}var newNode = document.createElement('span');newNode.innerHTML = tag;parentNode.replaceChild(newNode,node);} else if (this.tags.indexOf(this.getTag(node))!=-1 || this.classes.indexOf(node.className)!=-1) {var classes = node.className;if (classes=='') {node.className = this.class1;} else {node.className += ' '+this.class1;}}}printDiv.style.visibility = 'visible';this.spans = [].slice.call(printDiv.getElementsByClassName(this.class1));if (this.spans.length>0) {this.next(0,this);} else {this.stop();}},next: function(i,cont) {this.nextInt = setTimeout(function() {var classes = cont.spans[i].className;cont.spans[i].className = classes.replace(cont.class1,cont.class2);i++;if (i<cont.spans.length) {typer.next(i,cont);} else {cont.typing = false;cont.nextInt = undefined;clearInterval(cont.nextInt);setTimeout(function() {cont.stop();}, 60);}}, 30);},stop: function() {var buttonsList = $('buttonsList');if (buttonsList) {var buttonsCount = buttonsList.querySelectorAll('*').length;if (buttonsCount>1) {if (buttonsList.style.display=='none') {buttonsList.style.display = 'block';if (isAnimation && animation_enable) {Animate(buttonsList,'effect_fly');}}} else if (buttonsCount==1) {if (printIsEmpty()) {buttonsList.style.display = 'block';if (isAnimation && animation_enable) {Animate(buttonsList,'effect_fly');}} else {Animate(printDiv,'effect_flash');}}}if (this.typing) {clearInterval(this.nextInt);this.typing = false;for (i=0; i<this.spans.length; i++) {var classes = this.spans[i].className;this.spans[i].className = classes.replace(this.class1,this.class2);}}if (!isTouchDevice) {var input = document.getElementsByClassName('input_text')[0];if (input) {input.select();}}},textNodesUnder: function(node) {var all = [];for (node=node.firstChild;node;node=node.nextSibling){if (node.nodeType==3 || this.tags.indexOf(this.getTag(node))!=-1 || this.classes.indexOf(node.className)!=-1) {all.push(node);}else {all = all.concat(this.textNodesUnder(node));}}return all;},getTag: function(node) {return node.tagName.toLowerCase();}};function isInputActive() {var tag = document.activeElement.tagName.toLowerCase();if (tag=='input' || tag=='textarea') {return true;} else {return false;};}function keysDown(event) {if (isInputActive()) {return;};var key = keyCode(event);if (key==32) {event.preventDefault();}}function keysUp(event) {if (isInputActive()) {return;};if (showCover) {StartGame(); return;};var key = keyCode(event);if (key==27) {if (getComputedStyle(prefsDiv,null).display=='none') {showPrefs();} else {closeWinds();}return;}if (key==32) {if (typer.typing) {typer.stop();} else {firstButtonClick();}return;}if (key==8)  {Back(true); return;}var keyN = -1;if (key>=49 && key<=57)  {keyN=key-49;}if (key>=97 && key<=105) {keyN=key-97;}if (keyN>=0) {var elems = menuDiv.querySelectorAll('*');var clickElems = [];for (var i=0; i<elems.length; i++) {if (elems[i].onclick) {clickElems.push(elems[i]);}}if (clickElems[keyN]) {clickElems[keyN].click();};}}function printIsEmpty() {if (printDiv.textContent.trim()=='' && avatarBlock.innerHTML=='' && !(/<img/.test(printDiv.innerHTML))) {return true;} else {return false;}}function togglePrint(force) {if (printIsEmpty()) {printContDiv.style.display = 'none';} else {printContDiv.style.display = 'block';}var opacity = window.getComputedStyle(printContDiv,null).getPropertyValue('opacity');var objs = [printContDiv,consoleDiv,toolbarDiv,$('menu'),$('buttonsList'),$('backVideoSkip')];for (var i in objs) {var obj = objs[i];if (obj) {if (force || opacity==0) {obj.style.pointerEvents = 'auto';obj.style.opacity = 1;} else {obj.style.pointerEvents = 'none';obj.style.opacity = 0;}}}}function firstButtonClick() {var buttonsList = $('buttonsList');if (buttonsList) {var opacity = window.getComputedStyle(buttonsList,null).getPropertyValue('opacity');if (opacity>0) {var click = function(element,parent) {if (element.onclick) {var action = element.onclick.toString();action = action.substring(action.indexOf('{')+1,action.lastIndexOf('}')).trim();var re = /^this.parentNode.innerHTML.+?;/;if (re.test(action)) {action = action.replace(re,'');parent.innerHTML = parent.innerHTML.replace(/.onclicks*?=/,'.noclick=');}eval(action);}};var n = buttonsList.getElementsByTagName('*').length;if (n==1) {click(buttonsList.firstChild,buttonsList);} else if (n==0) {var links = printDiv.getElementsByClassName('plink');if (links.length==1) {click(links[0],printDiv);}}}}}function showImageToggle(){if (isMobile()) {if (getComputedStyle(printImageBlock,null).display=='none') {printImageBlock.style.display='block';Animate(printImageBlock,'effect_scale');} else {printImageBlock.style.display='none';}}else {if (getComputedStyle(printAddCont,null).display=='none') {showImage();} else {showPrintAdd(false);}}}function showImageForce(fade){if (isMobile()) {printImageBlock.style.display = 'block';}if (fade) {Animate(printImage,'effect_fade');}}function goodImageShow(img){if(isTouchDevice) {var obj = img.parentNode;obj.style.display = 'none';scrollDiv(obj);obj.style.display = 'block';}}function badImageShow(img){img.src = badImage;}function restoreSprites(s){spritesDiv.innerHTML = s;var sprites = spritesDiv.querySelectorAll('.sprite');for (var i=0; i<sprites.length; i++) {onclickSprite(sprites[i]);}}function showImage(){if (!isMobile()) {printAddText.innerHTML = "<img src='"+printImage.src+"' style='height:600px;margin:0;padding:0;' border='0' onerror='badImageShow(this)'>";printAddText.innerHTML+=spritesDiv.innerHTML;showPrintAdd(true,false,true);}else {printImageBlock.style.display = 'none';}}var printAddTextAlign = printAddText.style.textAlign;function showPrintAdd(show,center){if (show) {closeWinds();showShadow(true);if (center) {printAddText.style.textAlign='center';} else {printAddText.style.textAlign=printAddTextAlign;}var inner = printAddText.innerHTML;inner = inner.replace(/(<p><\/p>)*?<span class="buttonback"[^<]+?<\/span>(<p><\/p>)*?/gi,'').trim();if (inner=='') {return;}printAddText.innerHTML = inner;printAddCont.style.display = 'block'; scrollDiv(printAdd); if (isAnimation && animation_enable) { var effect='effect_scale'; Animate(printAdd,effect); } else { fade(printAddText); }}else {showShadow(false);printAddCont.style.display = 'none';}}function MenuInit(){var StoryMenu = GetLocation('StoryMenu');if (StoryMenu!=false){if (StoryMenu.Text.search(/<span class='(button|plink)/)!=-1){menuDiv.innerHTML='';eval(StoryMenu.Text);}}}var fontSize = 1;function ChangeFontSize(){if (fontSize<1.2){fontSize = fontSize + 0.1;}else {fontSize = 0.8}fade(printDiv);printDiv.style.fontSize = fontSize+'em';printAdd.style.fontSize = fontSize+'em';}function scrollDiv(obj,bottom,typerstop) {if (typerstop) {typer.start();typer.stop();}if (!obj) {obj = printContDiv;}if (bottom) {obj.scrollTop = obj.scrollHeight;}else {obj.scrollTop = 0;}}var visitedList = [];function toVisitedList(index) {var n = 1;for (var i in visitedList) {var item = visitedList[i];if (item[0]==index) {n = item[1]+1;visitedList.splice(i,1);break;}}visitedList.push([index,n]);}function visited() {var indexes = [];if (arguments.length<1) {indexes.push(GetIndexLocation(getAsmSys_titleCur()));} else {for (var i in arguments) {indexes.push(GetIndexLocation(arguments[i]));}}var result = [];for (var i in indexes) {var index = indexes[i];result.push([index,0]);for (var j in visitedList) {var item = visitedList[j];if (item[0]==index) {result[result.length-1] = item;break;}}}if (result.length==0) {return 0;} else {var min = result[0];for (var i in result) {if (result[i][1]<min[1]) {min = result[i];}}return min[1];}}function either() {return arguments[Math.floor(Math.random()*arguments.length)];}function random(min,max) {return Math.floor(Math.random()*(max-min+1))+min;}function closeWinds() {showPrintAdd(false);showPrefs(true);showShadow(false);dialogWind.style.display = 'none';}function showShadow(show){if (show) {if (!$('shadowlayer')) {var shadow = document.createElement('div');if (showCover) {shadow.style.backgroundColor = 'transparent';} else {shadow.style.backgroundColor = 'rgba(0,0,0,0.25)';}shadow.className = 'effect_fade_fast';shadow.onclick = function() {showPrefs(true);};shadow.id='shadowlayer'; document.body.appendChild(shadow);}} else {var shadow = $('shadowlayer');if (shadow) {document.body.removeChild(shadow);}showCover = false;printAddCont.style.display = 'none';}}function keyCode(event) {return event.keyCode ? event.keyCode : event.charCode ? event.charCode : event.which;}var isTouchDevice = false;if ('ontouchmove' in window) {isTouchDevice = true;}if (isTouchDevice) {try {var ignore = /:hover/;for (var i = 0; i < document.styleSheets.length; i++) {var sheet = document.styleSheets[i];if (!sheet.cssRules) {continue;}for (var j = sheet.cssRules.length - 1; j >= 0; j--) {var rule = sheet.cssRules[j];if (rule.type === CSSRule.STYLE_RULE && ignore.test(rule.selectorText)) {sheet.deleteRule(j);}}}}catch(e) {}}var musicAudio = $('musicAudio');musicAudio.addEventListener('play',function() {audioPlayEvent();},false);musicAudio.addEventListener('pause',function() {audioPauseEvent();},false);musicAudio.addEventListener('durationchange',function() {audioPlayEvent();},false);musicAudio.addEventListener('error',function() {if (this.src.substr(-4)=='.mp3') {AlertMessage('Ошибка загрузки файла<br>'+this.src);}},false);var audio_enable = true;var animation_enable = true;var showCover = false;var TimeToFade = 700;var SpriteEffect = 0;var TextEffect = 0;var isAnimation= false;if (document.body.style.WebkitAnimation!==undefined || document.body.style.MozAnimation!==undefined || document.body.style.OAnimation!==undefined || document.body.style.msAnimation!==undefined || document.body.style.KhtmlAnimation!==undefined || document.body.style.animation!==undefined){isAnimation = true;}function tbAnimate(obj,event) {Animate(obj,'effect_button');event.stopPropagation();}function prefixedEventListener(element, type, callback) {var pfx = ['webkit', 'moz', 'MS', 'o', ''];for (var p=0; p<pfx.length; p++) {if (!pfx[p]) type = type.toLowerCase();element.addEventListener(pfx[p]+type, callback, false);}}function Animate(obj,animID,callback){if (isAnimation) {var objclass = obj.className.split(' ')[0];obj.className = objclass+' '+animID;prefixedEventListener(obj,'AnimationEnd',function() {if(obj) {obj.className = objclass;if (callback) { callback(); }}}, false);}}var confirm_func;function AreYouSure(func,text){showPrefs(true);confirm_func = func;if (!text){text = 'Вы уверены?';}	text += "<div style='margin-top:16px;'><span class='dialogButton' onclick=\"showShadow(false);dialogWind.style.display='none';\" style='float:left;'>Нет</span><span class='dialogButton' style='float:right;' onclick='window[confirm_func]();event.stopPropagation();'>Да</span></div>";dialogWind.innerHTML = text;showShadow(true);dialogWind.style.display = 'block';Animate(dialogWind,'effect_fade_fast');}function AlertMessage(text){	text += "<div style='margin-top:16px;'><span class='dialogButton' onclick=\"showShadow(false);dialogWind.style.display='none';\">OK</span></div>";dialogWind.innerHTML = text;showShadow(true);dialogWind.style.display = 'block';Animate(dialogWind,'effect_fade_fast');}var isLocalFile;if (location.href.substr(0,7)=='file://'){isLocalFile=true;}else{isLocalFile=false;}function isLocalStorageAvailable() {if (!window.localStorage) {return false;}else {return true;}}function LocNotFound(loc) {AlertMessage('Параграф не найден');}var storydata;function GetFileData(id) {if (/^http(s)?:\/\/.+?$/.test(id)) {var ret = {};ret.src = id;return ret;}id = id.trim().toLowerCase();for (var key in storydata) {if (storydata[key][0]==id) {return storydata[key][1];}}return '';}function prefsFill(){prefsDiv.innerHTML='';prefsDiv.innerHTML+='<div><span class=plink onclick=\"AreYouSure(&quot;NewGame&quot;,&quot;Хотите начать заново?&quot;);event.stopPropagation();\">Начать заново</span></div>';prefsDiv.innerHTML+='<div><span class=plink onclick=\"SaveLoadWind(true);\">Сохранить</span></div><div><span class=plink onclick=\"SaveLoadWind(false);\">Восстановить</span></div>';if (audio_enable){prefsDiv.innerHTML+='<div><span class=plink onclick=\"audio_enable=false;stopMusic();showPrefs(true);\">Отключить звуки</span></div>';}else{prefsDiv.innerHTML+='<div><span class=plink onclick=\"audio_enable=true;playMusic();showPrefs(true);\">Включить звуки</span></div>';}if (isAnimation){if (animation_enable){prefsDiv.innerHTML+='<div><span class=plink onclick=\"animation_enable=false;typer.stop();showPrefs(true);\">Отключить анимацию</span></div>';}else{prefsDiv.innerHTML+='<div><span class=plink onclick=\"animation_enable=true;showPrefs(true);\">Включить анимацию</span></div>';}}prefsDiv.innerHTML+='<div><span class=plink onclick=\"ChangeFontSize();\">Размер текста</span></div>';}function showPrefs(close){if (showCover) {return;}if(close || prefsDiv.style.display!='none' || dialogWind.style.display!='none') {showShadow(false);dialogWind.style.display = 'none';prefsDiv.style.display = 'none';}else {showShadow(true);prefsFill();prefsDiv.style.display = 'block';Animate(prefsDiv,'effect_fade_fast');}}function setCookie(name, value){var expires = new Date();expires.setTime(expires.getTime()+31536000000);document.cookie = name + '=' + escape(value) + '; expires=' + expires.toGMTString() + '; path=/';}function getCookie(name){var cookie = ' ' + document.cookie;var search = ' ' + name + '=';var setStr = null;var offset = 0;var end = 0;if (cookie.length>0){offset = cookie.indexOf(search);if (offset != -1){offset += search.length;end = cookie.indexOf(';', offset);if (end == -1){end = cookie.length;}setStr = decodeURIComponent(cookie.substring(offset, end));}}if (setStr==null){setStr = '';}return(setStr);}function fade(element){if (TimeToFade==0 || !element) {return;}var eid = element.id;element.style.opacity = '0';if (element.FadeState == null){if (element.style.opacity == null|| element.style.opacity == ''|| element.style.opacity == '1'){element.FadeState = 2;}else{element.FadeState = -2;}}if (element.FadeState == 1 || element.FadeState == -1){element.FadeState = element.FadeState == 1 ? -1 : 1;element.FadeTimeLeft = TimeToFade - element.FadeTimeLeft;}else{element.FadeState = element.FadeState == 2 ? -1 : 1;element.FadeTimeLeft = TimeToFade;setTimeout("animateFade(" + new Date().getTime() + ",'" + eid + "')", 33);}}function animateFade(lastTick, eid){var curTick = new Date().getTime();var elapsedTicks = curTick - lastTick;var element = $(eid);if (!element) { return; }if(element.FadeTimeLeft <= elapsedTicks){element.style.opacity = '1';element.style.filter = 'alpha(opacity = 100)';element.FadeState = element.FadeState == 1 ? 2 : -2;return;}element.FadeTimeLeft -= elapsedTicks;var newOpVal = element.FadeTimeLeft/TimeToFade;newOpVal = 1 - newOpVal;element.style.opacity = newOpVal;element.style.filter = 'alpha(opacity = ' + (newOpVal*100) + ')';setTimeout("animateFade(" + curTick + ",'" + eid + "')", 33);}function Locations(Index, Title, Text, Parsed){this.Index = Index;this.Title = Title;this.Text = Text;this.Parsed = Parsed;}function Trim(str) {return str.replace(/^\s+|\s+$/g,'');}function EscapeRegExp(str) {return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,'\\$&');}function NthField(str,delim,n,caseSens){var cs = 'i';if (caseSens){cs = '';}n--;var arr = str.split(new RegExp(EscapeRegExp(delim),cs));if (n>(arr.length-1)){return '';}else{return arr[n];}}function SortNumberArray(x,y) {return x-y;}function bitTest(bit){num=this;return ((num>>bit)%2!=0);}function bitSet(bit){num=this;return num|1<<bit;}function bitClear(bit){num=this;return num &~(1<<bit);}function bitToggle(bit){num=this;return num.bitTest(bit)?num.bitClear(bit):num.bitSet(bit);}Number.prototype.bitTest = bitTest;Number.prototype.bitSet = bitSet;Number.prototype.bitClear = bitClear;Number.prototype.bitToggle = bitToggle;String.prototype.bitTest = bitTest;String.prototype.bitSet = bitSet;String.prototype.bitClear = bitClear;String.prototype.bitToggle = bitToggle;function CloneArray(myarr) {return [].concat(myarr);}function CloneObject(myobj) {return JSON.parse(JSON.stringify(myobj));}var Location = [];var PrevLocation;var CurLocation;var PrevImage = pictureDefault;var PrevFilter = '';var PrevTitle;var PrevMenu;var PrevAudio;var PrevVideo;var PrevAvatar = '';var PrevSprites = '';var PrevSpriteEffect = 0;var PrevTextEffect = 0;var PrevVisitedList = [];function getAsmSys_time() {var d = new Date();return Math.round(d.getTime()/1000);}function getAsmSys_titleCur() {return CurLocation.Title;}function getAsmSys_titlePrev() {return PrevLocation.Title;}function getAsmSys_story(title) {var pass = GetLocation(title);if (pass) {return pass.Text.trim();} else {return '';}}var asmSys_gender = 0;var asmSys_choice = 0;function GetLocation(Title) {Title = Title.toString().toLowerCase().trim();for (var key in Location) {Loc = Location[key];if (Loc.Title.toLowerCase().trim()==Title) {return Loc;}}return false;}function GetIndexLocation(Title) {if (!Title) {return -1;}Title = Title.toString().toLowerCase().trim();var LocIndex = 0;for (var key in Location) {Loc = Location[key];if (Loc.Title.toLowerCase().trim()==Title) {return LocIndex;}LocIndex++;}return -1;}function FlipPage(){var AnimatePage = function(elem) {var time = TimeToFade;var style = 'overflow';var overflow = elem.parentNode.style[style];elem.parentNode.style[style] = 'hidden';elem.style.WebkitAnimationDuration = time+'ms';elem.style.animationDuration = time+'ms';Animate(elem,getEffectName(TextEffect),function() {elem.parentNode.style[style] = overflow;});};printDiv.className = printDiv.className.replace(/effect_flash/g,'').trim();var buttonsList = $('buttonsList');if (buttonsList) {pageDiv.removeChild(buttonsList);}buttonsList = document.createElement('div');buttonsList.id = 'buttonsList';buttonsList.onclick = function() {togglePrint();};pageDiv.appendChild(buttonsList);var buttons = [].slice.call(printDiv.querySelectorAll('.button, .buttonno, .buttonback'));for (var i=0; i<buttons.length; i++) {buttonsList.appendChild(buttons[i]);}togglePrint(true);buttonsList.style.display = 'none';printContDiv.onclick = function() {if (typer.typing) {typer.stop();} else {firstButtonClick();}};if (isAnimation && animation_enable && TimeToFade>0) {AnimatePage(printContDiv);typer.start();} else {typer.stop();}}function ToText(s,fromstart,div){if (!div) {div = printDiv;}if (fromstart) {div.innerHTML = s;} else {div.innerHTML += s;}}function PrintLocation(Title,replay){if (!Title) {return false;}Title = Title.toString();if (Title.search(/:\/\//)!=-1) {window.open(Title);} else {var Loc = GetLocation(Title);if (Loc!=false) {closeWinds();if (!replay) {ASM.prv = CloneObject(ASM.cur);ASM.cur = CloneObject(ASM.var);PrevLocation = CurLocation;CurLocation = Loc;PrevVisitedList = visitedList;PrevAudio = musicAudio.src;$('BackButton').style.opacity = 1;PrevImage = printImage.src;PrevFilter = printImage.style.filter;PrevTitle = printTitle.innerHTML;PrevMenu = menuDiv.innerHTML;PrevVideo = videoDiv.innerHTML;PrevAvatar = avatarBlock.innerHTML;PrevSprites = spritesDiv.innerHTML;PrevSpriteEffect = SpriteEffect;PrevTextEffect = TextEffect;}showPrintAdd(false);toVisitedList(GetIndexLocation(Title));if (Loc.Parsed==1) {ToText('',true);eval(Loc.Text);} else {ToText(Loc.Text,true);}scrollDiv();if (Title.toLowerCase()!='storymenu') {var pp = document.createElement('p');printDiv.insertBefore(pp.cloneNode(),printDiv.firstChild);printDiv.appendChild(pp);}FlipPage();} else {LocNotFound(Title);}}}function DisplayLocation(Title){if (!Title) {return false;}Title = Title.toString();if (CurLocation.Title.toLowerCase()==Title.toLowerCase() && printDiv!=printAddText) {return;}if (Title.search(/:\/\//)!=-1){}else{var Loc = GetLocation(Title);if (Loc!=false){toVisitedList(GetIndexLocation(Title));if (Loc.Parsed==1){eval(Loc.Text);}else{ToText(Loc.Text);}}else{LocNotFound(Title);}}}function PopupLocation(Title) {printDiv = printAddText;ToText('<p></p>',true);DisplayLocation(Title);ToText('<p></p>',false);printDiv = $('print');showPrintAdd(true);scrollDiv(printAdd);}function NoBack(){PrevLocation = '';PrevVisitedList = [];PrevImage = pictureDefault;PrevFilter = '';PrevAvatar = '';PrevSprites = '';PrevSpriteEffect = 0;PrevTextEffect = 0;PrevTitle = '';PrevMenu = '';PrevAudio = '';PrevVideo = '';$('BackButton').style.opacity = 0.4;}function Back(Undo) {if (PrevLocation) {if (Undo) {ASM.var = CloneObject(ASM.prv);printImage.style.filter = PrevFilter;printImage.src = PrevImage;avatarBlock.innerHTML = PrevAvatar;restoreSprites(PrevSprites);SpriteEffect = PrevSpriteEffect;TextEffect = PrevTextEffect;printTitle.innerHTML = PrevTitle;menuDiv.innerHTML = PrevMenu;visitedList = CloneArray(PrevVisitedList);if (musicAudio.src!=PrevAudio) {musicAudio.src = PrevAudio; playMusic();};if (videoDiv.innerHTML!=PrevVideo) {videoDiv.innerHTML = PrevVideo;};}PrintLocation(PrevLocation.Title);NoBack();}}function setAudioPath(path) {if (!path) {musicAudio.removeAttribute('src');} else {musicAudio.src = path;}}function audioPlayEvent() {if (audio_enable && (musicAudio.src.substr(-4)=='.mp3' || musicAudio.src.substr(0,15)=='data:audio/mp3;')) {audioButton.style.display = 'inline-block';audioButton.style.opacity = 1;} else {audioButton.style.display = 'none';}}function audioPauseEvent() {audioButton.style.opacity = 0.5;}function PlayPauseButton() {if (musicAudio.paused) {musicAudio.play();} else {musicAudio.pause();}}function playMusic() {if (audio_enable) {musicAudio.play();}}function stopMusic() {audioButton.style.display = 'none';musicAudio.pause();}function getEffectName(effect) {if (effect==-1) {return effectNames[Math.floor(Math.random()*effectNames.length)];} else {return effectNames[effect];}};function setEffect(effect,forText) {effect = effect.toLowerCase().trim();var n = -1;if (effect!='random') {n = ["fade","zoom","flip","fly","jump","left","right","up","down","random"].indexOf(effect);if (n==-1) {n = 0;}}if (!forText) {SpriteEffect = n;} else {TextEffect = n;}}var Events = [];function startEvent(locTitle,timerSec){var locIndex = GetIndexLocation(locTitle);if (locIndex!=-1){stopEvent(locTitle);if (window['eventNum'+locIndex]===undefined){Events.push(GetIndexLocation(locTitle)+':'+timerSec);window['eventNum'+locIndex] = setInterval (function() { DisplayLocation(locTitle); },timerSec*1000);}}}function stopEvent(locTitle){var locIndex = GetIndexLocation(locTitle);if (locIndex!=-1){clearInterval(window['eventNum'+locIndex]);window['eventNum'+locIndex] = undefined;for (var i=0; i<=(Events.length-1); i++){var curEvent = Events[i]; var curEventArr = curEvent.split(':'); curEvent = curEventArr[0];if (curEvent==GetIndexLocation(locTitle)) { Events.splice(i,1); break; }}}}function stopAllEvents(){Events.length = 0;for (var i=0; i<=(Location.length-1); i++){if (window['eventNum'+i]!==undefined){clearInterval(window['eventNum'+i]);window['eventNum'+i] = undefined;}}}function SetAvatar(src) {avatarBlock.innerHTML = '';if (src) {avatarBlock.innerHTML = "<img class='avatar' onload=\"goodImageShow(this);this.style.visibility='visible';if(isAnimation && animation_enable){Animate(this,'effect_avatar');}\" onerror='badImageShow(this)' src="+GetFileData(src).src+">";}}function choice(elem,variable,n){if (elem.className=='plink selected') {elem.className = 'plink';eval(variable+'=0');} else {var elems = elem.parentNode.getElementsByClassName('plink selected');for (var i=0; i<elems.length; i++) {elems[i].className ='plink';}elem.className ='plink selected';eval(variable+'='+n);}}Location.push(new Locations(0,"100",";ToText(\"Бездвижен, едва уловим в полумраке,<p></p>Тоскующей девушки призрак стоит.<p></p>Уж сколько она подает свои знаки?<p></p>Узнать её тайну никто не спешит.<p></p><br><p></p>И вот незнакомец застыл на пороге,<p></p>Сжимая в руке заржавевший замок.<p></p>Как-будто к земле приросли его ноги,<p></p>И сделать и шага бедняга не мог.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;50&quot;);event.stopPropagation()'>Спросить разрешения войти</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;51&quot;);event.stopPropagation()'>Спросить имя девушки</span></span>\"+'</span>');",1));Location.push(new Locations(1,"11",";ToText(\"Бедняга помчался в слепом устремленьи<p></p>Спасти свою жизнь от когтей и клыков.<p></p>Мелькали деревья и хищною тенью<p></p>Зверь мчался вослед, так вела его кровь.<p></p><br><p></p>Так вёл его страх убегающей жертвы,<p></p>Но вдруг просвистела шальная стрела.<p></p>Холодная сталь не страшна для бессмертных,<p></p>Однако в них магии были слова.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;12&quot;);event.stopPropagation()'>Остановиться</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;13&quot;);event.stopPropagation()'>Бежать дальше</span></span>\"+'</span>');",1));Location.push(new Locations(2,"12",";ToText(\"Стоял чуть поóдаль нежданный спаситель,<p></p>Одетый в тунику, в руках только лук.<p></p>«За жизнь мою цену любую просите!» —<p></p>Так путник сказал. «За спасенье от мук<p></p><br><p></p>Еще раз побудешь ты в жертвенной шкуре,<p></p>Ведь зверь убежал и опасность жива.»<p></p>Так лучник ответил, глаза чуть прищурив,<p></p>У путника в горле застряли слова.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;14&quot;);event.stopPropagation()'>Умолять отпустить</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;15&quot;);event.stopPropagation()'>Покорно согласиться</span></span>\"+'</span>');",1));Location.push(new Locations(3,"13",";ASM.var[30] = true;ToText(\"<p></p>\");ASM.var[7] = true;ToText(\"<p></p>Держась у ручья, по тропе каменистой,<p></p>Что плелá меж деревьев лихие узлы,<p></p>Где землю устлали кленовые листья,<p></p>Заблудший достиг одинокой скалы.<p></p><br><p></p>Готов был увидеть он все, что угодно,<p></p>Но только не деву, что краше всех дев.<p></p>Та пальцами волка ласкала свободно,<p></p>Шепча восхваленья ему нараспев.<p></p><br><p></p>Забыв про повадки голодного зверя,<p></p>Злой хищник скулил, был поджат его хвост.<p></p>«Ну что ты все смотришь? Ужели не веришь?<p></p>Он всю свою жизнь на руках моих рос.<p></p><br><p></p>Небось заблудился и ищешь дорогу?<p></p>Давно уже бродишь в заклятом лесу?» —<p></p>И путник услышал в словах её строгость, —<p></p>«Три дня уже голоден верный Монсун...»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;23&quot;);event.stopPropagation()'>Спросить, как выбраться из леса</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;24&quot;);event.stopPropagation()'>Просить отпустить</span></span>\"+'</span>');",1));Location.push(new Locations(4,"14",";ToText(\"«А что тебе толку шататься по лесу?<p></p>Отсюда ушло даже счастье, мой друг.<p></p>Ужель тебе тайна его неизвестна,<p></p>Аль ты не попал в заколдованный круг?<p></p><br><p></p>Не думай, что я здесь ищу развлеченья,<p></p>Холодная месть, вот судьбы моей суть.»<p></p>И вновь вой раздался в лесу предвечернем,<p></p>А путник сумел лишь согласно кивнуть.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;15&quot;);event.stopPropagation()'>Далее</span></span>\"+'</span>');",1));Location.push(new Locations(5,"15",";ToText(\"Охотничьи тропы вели меж деревьев<p></p>На лес опускалась стремительно мгла<p></p>порой раздавался протяжный зов зверя<p></p>«Он много свершил неоправданно зла.»<p></p><br><p></p>Охотник вещал между делом, попутно:<p></p>«Я ехал сюда, чтоб невесту забрать,<p></p>Но злая судьба насмехаясь как-будто<p></p>Тропу завернула в туманную гать.<p></p><br><p></p>Три дня я плутал истязанный страхом,<p></p>От кочки до кочки, по узкой тропе,<p></p>Пока не добрёл до избушки зачахлой,<p></p>На стук мой — внутри только пол заскрипел.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;16&quot;);event.stopPropagation()'>Остановиться на привал</span></span>\"+'</span>');",1));Location.push(new Locations(6,"16",";ToText(\"Я в дом постучал, но внутри затаился<p></p>Трусливый хозяин, моля уходить.<p></p>Сказал, что иначе сожрут меня крысы,<p></p>Ещё подсказал, что есть путь впереди.»<p></p><br><p></p>Охотник устроил привал возле камня,<p></p>Что глыбою серой торчал из земли,<p></p>И всё продолжал свой рассказ про скитанья,<p></p>Трещали в костре золотые угли.<p></p><br><p></p>«Вот так и дошёл я, сомненьем ведомый<p></p>До дома возлюбленной девы своей,<p></p>Но встретился с женщиной там незнакомой,<p></p>Поведавшей страшную правду о ней.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;17&quot;);event.stopPropagation()'>Её погубил зверь?</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;18&quot;);event.stopPropagation()'>Что за женщина?</span></span>\"+'</span>');",1));Location.push(new Locations(7,"17",";ToText(\"«Ты прав, незнакомец. Сгубил безвозвратно<p></p>Уродливый монстр мою Аннабель.<p></p>Дальнейший рассказ я оставлю на завтра.<p></p>Кто знает, нам сколько скитаться недель?»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;19&quot;);event.stopPropagation()'>Наутро</span></span>\"+'</span>');",1));Location.push(new Locations(8,"18",";ToText(\"«Скажу тебе честно, что сердце забилось<p></p>В два раза быстрее, при виде её.<p></p>К такой даже князь сменит гнев свой на милость.<p></p>Что дальше, мой друг, расскажу тебе днем.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;19&quot;);event.stopPropagation()'>19</span></span>\"+'</span>');",1));Location.push(new Locations(9,"188",";ToText(\"Он долго плутал, без надежды на что-то,<p></p>Искал бы дорогу, да ктоб подсказал?<p></p>Туман проклятущий сгустился так плотно —<p></p>Не понял, как путь преградила скала.<p></p>\");if(ASM.var[30]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;28&quot;);event.stopPropagation()'>28</span></span>\"+'</span>'+\"<p></p>\");}else{;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;13&quot;);event.stopPropagation()'>13</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(10,"19",";ToText(\"В ночной тишине стонут старые сосны,<p></p>Мелькают созвездий немые огни.<p></p>Им вторят прохладой рожденные росы,<p></p>Им вторят костра золотые угли.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;20&quot;);event.stopPropagation()'>Наутро</span></span>\"+'</span>');",1));Location.push(new Locations(11,"20",";ToText(\"Наутро туман пеленой непроглядной<p></p>Окутал и мысли, и лагерь, и лес,<p></p>Пустив под одежду сырую прохладу.<p></p>А путник узнал, что охотник исчез.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;13&quot;);event.stopPropagation()'>Идти на запад</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;22&quot;);event.stopPropagation()'>Отправиться на юг</span></span>\"+'</span>');",1));Location.push(new Locations(12,"22",";ToText(\"Он долго плутал, без надежды на что-то,<p></p>Искал бы дорогу, да ктоб подсказал?<p></p>Туман проклятущий сгустился так плотно —<p></p>Не понял, к избе как вернулся назад.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;4&quot;);event.stopPropagation()'>У избы</span></span>\"+'</span>');",1));Location.push(new Locations(13,"3",";ToText(\"Недолго плутал он по тёмному лесу,<p></p>Просторной поляны увидев просвет,<p></p>На ней различался в туманной завесе,<p></p>Ужасного зверя немой силуэт.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;11&quot;);event.stopPropagation()'>Бежать!</span></span>\"+'</span>');",1));Location.push(new Locations(14,"4",";ToText(\"Огромный домище из тёсанных бревен.<p></p>Берёз окруженный неплотным кольцом.<p></p>Как-будто пустует, но снова и снова,<p></p>За окнами видится чьё-то лицо.<p></p><br><p></p>И как ни старается путник всмотреться,<p></p>Жильца пропадает немой силуэт.<p></p>Мрачную тайну хранит это место,<p></p>Но что за цена за правдивый ответ?<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;5&quot;);event.stopPropagation()'>Искать вход</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;13&quot;);event.stopPropagation()'>Уйти</span></span>\"+'</span>');",1));Location.push(new Locations(15,"5",";ToText(\"В окно заглянуть — недостаточно роста,<p></p>На прочной двери есть надёжный замок.<p></p>Пробраться туда будет очень непросто,<p></p>Любая подсказка окажется в прок.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;7&quot;);event.stopPropagation()'>Обойти дом</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;8&quot;);event.stopPropagation()'>Подняться на крыльцо</span></span>\"+'</span>');",1));Location.push(new Locations(16,"50",";ToText(\"«Конечно входи.» — прозвучало суть слышно.<p></p>«Давно у меня не бывало гостей.<p></p>К молитвам моим безразличен Всевышний<p></p>Уж сил нет томиться в плену этих стен.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;52&quot;);event.stopPropagation()'>Войти</span></span>\"+'</span>');",1));Location.push(new Locations(17,"51",";ToText(\"«Зови Аннабель, если будет угодно.<p></p>Не стой на пороге, не бойся. Входи.<p></p>Мне целую вечность не быть на свободе.<p></p>А редкому гостю не грех угодить.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;52&quot;);event.stopPropagation()'>Войти</span></span>\"+'</span>');",1));Location.push(new Locations(18,"54",";ToText(\"«Ах, этот безумец, попавшийся в лапы<p></p>Той ведьмы, что мачехой стала моей...<p></p>Я помню, как в доме стоял странный запах,<p></p>К приходу его аж за несколько дней.<p></p><br><p></p>То варево, для приворотного зелья,<p></p>Готовила мачеха, только отцу<p></p>Ночами признанья шептала в постели.<p></p>Тот верил словам, был подобен юнцу.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;58&quot;);event.stopPropagation()'>— А как же ты?</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;57&quot;);event.stopPropagation()'>— Что случилось с отцом после?</span></span>\"+'</span>');",1));Location.push(new Locations(19,"56",";ToText(\"«Впервые я встретилась с ней на прогулке,<p></p>С веревкой на шее, как-будто козла,<p></p>Вся грязная, космы висят, как сосульки,<p></p>Старуха ребенка с собою вела.<p></p><br><p></p>Ребеночек был изможден до предела,<p></p>Весь в ссадинах, бедный, годков до пяти.<p></p>И кости торчат с исхудалого тела.<p></p>Он плелся за ней, хоть едва мог идти.<p></p><br><p></p>«Ты что же творишь?!» — я тогда прокричала,<p></p>Но взгляд её жуткий отнял мою речь.<p></p>Потом я бездумно куда-то бежала,<p></p>Чтоб душу от сгалаза сстарухи сберечь.<p></p><br><p></p>Тогда, неизвестно откуда, белесый<p></p>По лесу разлился зловонный туман.<p></p>Три дня он царил меж березок и сосен.<p></p>То словно был чей-то неведомый план.<p></p><br><p></p>Четвертым же днем мой отец заблудился,<p></p>Дождавшись погоды сходить по грибы.<p></p>На пятый в компании ведьмы явился,<p></p>Назвав её чудом, подарком Судьбы!<p></p><br><p></p>Вот так во второй раз увиделаь с ведьмой.<p></p>И как удалось ей личину сменить,<p></p>Мне так до сих пор этот способ неведом,<p></p>О чем еще хочешь меня расспросить?»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;54&quot;);event.stopPropagation()'>Спросить про охотника</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;55&quot;);event.stopPropagation()'>Спросить про зверя</span></span>\"+'</span>');",1));Location.push(new Locations(20,"57",";ToText(\"«Отец занемог, был бессилен с постели<p></p>Подняться и жар его жег изнутри.<p></p>Я видела, мачеха льет в него зелья<p></p>И шепчет: «Смотри, голубок, не сгори...»<p></p><br><p></p>Так время и шло, а болезнь не сходила.<p></p>Однажды он вовсе куда-то исчез.<p></p>Я махечу сразу об этом спросила,<p></p>Но та лишь велела не заходить в лес.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;60&quot;);event.stopPropagation()'>— Что было потом?</span></span>\"+'</span>');",1));Location.push(new Locations(21,"60",";ToText(\"Отец мой исчез, я в родительском доме<p></p>Все ночи свои проводила без сна.<p></p>Под окнами кто-то бродил незнакомый,<p></p>Узнать, кто же он, я боялась одна.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;55&quot;);event.stopPropagation()'>Спросить про зверя</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;56&quot;);event.stopPropagation()'>Спросить про ведьму</span></span>\"+'</span>');",1));Location.push(new Locations(22,"61",";ToText(\"«Имелось достаточно дней, чтоб подумать.<p></p>Куда же исчез заболевший отец.<p></p>Он бродит по лесу теперь, обезумев.<p></p>Пред магией всяк — беззащитный птенец.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;63&quot;);event.stopPropagation()'>Выразить сожаления</span></span>\"+'</span>');",1));Location.push(new Locations(23,"62",";ToText(\"«Ах, ведьма его неспроста потчевала<p></p>Проклятыми зельями несколько дней.<p></p>Готовила к жутким своим ритуалам,<p></p>Теперь-то я знаю всю правду о ней!»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;63&quot;);event.stopPropagation()'>Выразить сожаления</span></span>\"+'</span>');",1));Location.push(new Locations(24,"63",";ToText(\"«Я много в дороге встечал своей судеб...» —<p></p>Заблудший чуть слышно слова проронил, —<p></p>«Твоя пострашнее любой из них будет,<p></p>Кошмар настоящий сей лес утаил.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;64&quot;);event.stopPropagation()'>Спросить о том, что случилось с самой девушкой</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='ASM.var[10] = true;PrintLocation(&quot;65&quot;);event.stopPropagation()'>Спросить, кто жил в заброшенной избушке</span></span>\"+'</span>');",1));Location.push(new Locations(25,"64",";ToText(\"«Я долго сидела одна в этом доме,<p></p>А после решилась и вышла за дверь.<p></p>Я плакала, кажется, точно не помню.<p></p>Всё звала отца, но вдруг выскочил зверь.<p></p><br><p></p>И тут же: зловонное злое дыханье,<p></p>Он словно меня убивать не хотел...<p></p>Я помню, как зверь застонал на прощанье,<p></p>Как хрустнуло что-то, и мир потускнел.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;66&quot;);event.stopPropagation()'>Далее</span></span>\"+'</span>');",1));Location.push(new Locations(26,"65",";ASM.var[10] = true;ToText(\"<p></p>«Давно это было, еще в раннем детстве.<p></p>Там жил одинокий безумный старик.<p></p>Отец говорил, он такой по наследству —<p></p>С собой говорил от зари, до зари.<p></p><br><p></p>И запер себя изнутри он, однажды.<p></p>Отца не впускал. И не ел, и не пил.<p></p>Судьба мне его показалось не важной,<p></p>Отец же к нему постоянно ходил.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;66&quot;);event.stopPropagation()'>Далее</span></span>\"+'</span>');",1));Location.push(new Locations(27,"66",";ToText(\"«Но что же мне делать? Как выйти из леса?» —<p></p>Схватившись за голову, путник спросил.<p></p>«Ещё одна тайна тебе неизвестна,<p></p>Но хватит ли слушать её твоих сил?»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;67&quot;);event.stopPropagation()'>Требовать правду</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;68&quot;);event.stopPropagation()'>Умолять спасти</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;69&quot;);event.stopPropagation()'>Проклинать свою Судьбу</span></span>\"+'</span>');",1));Location.push(new Locations(28,"67",";ToText(\"«Я столько всего переслушал в сей вечер,<p></p>Ужели ты думаешь, сдамся сейчас?<p></p>Ах сколько той правды легло мне на плечи!<p></p>Мне ночью теперь не сомкнуть своих глаз.»<p></p>\");if(ASM.var[6]<2){;ToText(\"<p></p>\");ASM.var[6]++;ToText(\"<p></p>Но призрак стоял, неподвижный, безмолвный,<p></p>Как-будто на веки растаять готов.<p></p>А путник искал одно верное слово,<p></p>Взывая о правде её, вновь и вновь.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;68&quot;);event.stopPropagation()'>Умолять спасти</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;69&quot;);event.stopPropagation()'>Проклинать свою Судьбу</span></span>\"+'</span>'+\"<p></p>\");}else if(ASM.var[6]==2){;ToText(\"<p></p>И вот, когда путник отчаялся вовсе,<p></p>У девушки-призрака вызнать ответ,<p></p>Та молвила: «Слишком уж рьяно ты просишь,<p></p>Надеюсь поможет тебе тот секрет,<p></p><br><p></p>Что ведьма не просто в лесу затаилась,<p></p>Ведь следом за ней был ещё один гость.<p></p>И мгла, словно дым, от него исходила,<p></p>Глаза — без зрачков, в них кипящая злость.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;71&quot;);event.stopPropagation()'>— Кто это был?</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;72&quot;);event.stopPropagation()'>— Он пришел за ведьмой?</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(29,"68",";ToText(\"«Послушай, взгляни в мою бедную душу!<p></p>Ей сколько еще остается страдать?<p></p>И много ли сложности в том, чтобы слушать?<p></p>И сколько труда нужно, чтобы сказать?»<p></p>\");if(ASM.var[6]<2){;ToText(\"<p></p>\");ASM.var[6]++;ToText(\"<p></p>Но призрак стоял, неподвижный, безмолвный,<p></p>Как-будто на веки растаять готов.<p></p>А путник искал одно верное слово,<p></p>Взывая о правде её, вновь и вновь.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;67&quot;);event.stopPropagation()'>Умолять спасти</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;69&quot;);event.stopPropagation()'>Проклинать свою Судьбу</span></span>\"+'</span>'+\"<p></p>\");}else if(ASM.var[6]==2){;ToText(\"<p></p>И вот, когда путник отчаялся вовсе,<p></p>У девушки-призрака вызнать ответ,<p></p>Та молвила: «Слишком уж рьяно ты просишь,<p></p>Надеюсь поможет тебе тот секрет,<p></p><br><p></p>Что ведьма не просто в лесу затаилась,<p></p>Ведь следом за ней был еще один гость.<p></p>И мгла, словно дым, от него исходила,<p></p>Глаза — без зрачков, в них кипящая злость.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;71&quot;);event.stopPropagation()'>— Кто это был?</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;72&quot;);event.stopPropagation()'>— Он пришел за ведьмой?</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(30,"69",";ToText(\"«Да будь она проклята, вся моя участь!<p></p>Какие такие свершил я грехи?<p></p>За что меня лес этот темный замучал?<p></p>Пойти б утопиться, да нету реки...»<p></p>\");if(ASM.var[6]<2){;ToText(\"<p></p>\");ASM.var[6]++;ToText(\"<p></p>Но призрак стоял, неподвижный, безмолвный,<p></p>Как-будто на веки растаять готов.<p></p>А путник искал одно верное слово,<p></p>Взывая о правде её, вновь и вновь.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;67&quot;);event.stopPropagation()'>Умолять спасти</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;68&quot;);event.stopPropagation()'>Проклинать свою Судьбу</span></span>\"+'</span>'+\"<p></p>\");}else if(ASM.var[6]==2){;ToText(\"<p></p>И вот, когда путник отчаялся вовсе,<p></p>У девушки-призрака вызнать ответ,<p></p>Та молвила: «Слишком уж рьяно ты просишь,<p></p>Надеюсь поможет тебе тот секрет,<p></p><br><p></p>Что ведьма не просто в лесу затаилась,<p></p>Ведь следом за ней был еще один гость.<p></p>И мгла, словно дым, от него исходила,<p></p>Глаза — без зрачков, в них кипящая злость.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;71&quot;);event.stopPropagation()'>— Кто это был?</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;72&quot;);event.stopPropagation()'>— Он пришел за ведьмой?</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(31,"7",";ToText(\"Высокий фундамент из крупного камня,<p></p>Что выдержит даже осадный таран,<p></p>На каждом окне есть красивые ставни,<p></p>А сзади пристроен сарай, ли чулан.<p></p><br><p></p>В сарае том тесно и пахнет соломой,<p></p>На стенах верёвки, серпы, топоры,<p></p>В углу же пристроился маленький, скромный<p></p>Сундук необычной из чёрной коры.<p></p>\");if(ASM.var[0]){;ToText(\"<p></p>Внутри него ключик обычный нашелся,<p></p>И путник решил, что не стоит гадать —<p></p>Уж если ключом он таким обзавелся,<p></p>То им же и двери идти открывать.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;100&quot;);event.stopPropagation()'>Войти к дом</span></span>\"+'</span>'+\"<p></p>\");}else{;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;9&quot;);event.stopPropagation()'>Открыть сундук</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(32,"72",";ToText(\"«За нею, проклятой. Уж мне неизвестно,<p></p>Какое такое свершить нужно зло,<p></p>Чтоб Дьявола слуги тебя повсеместно<p></p>Искали. Чего уж им так припекло?»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;73&quot;);event.stopPropagation()'>— Что было потом?</span></span>\"+'</span>');",1));Location.push(new Locations(33,"73",";ToText(\"«К тому уже времени все ритуалы<p></p>Закончила ведьма, и тело отца<p></p>Тем зверем ужасным к полуночи стало,<p></p>Чья лютая ярость не знает конца.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;74&quot;);event.stopPropagation()'>— Зачем он был ей нужен?</span></span>\"+'</span>');",1));Location.push(new Locations(34,"74",";ToText(\"«Спасти свою душу от участи адской:<p></p>Тот зверь чует демонов самым нутром.<p></p>Их встреча жестокой закончилась пляской,<p></p>Был демон изорван и изгнан потом.<p></p><br><p></p>Однако успел перед смертью проклятье<p></p>На лес напустить: //Пока жив этот зверь,<p></p>Никто не покинет его, так и знайте!//<p></p>Как выйти из леса ты знаешь теперь.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;75&quot;);event.stopPropagation()'>Отправиться к избе безумного старика</span></span>\"+'</span>'+\"<p></p>\");if(ASM.var[30]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;76&quot;);event.stopPropagation()'>Вернуться к ведьме</span></span>\"+'</span>'+\"<p></p>\");};ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;77&quot;);event.stopPropagation()'>Спросить, нет ли другого пути?</span></span>\"+'</span>');",1));Location.push(new Locations(35,"75",";ToText(\"Надёжно забиты оконные ставни.<p></p>А низкая дверь заперта изнутри.<p></p>В избушке никто со времен стародавних<p></p>Уже не живёт. Тут смотри не смотри.<p></p>\");if(!ASM.var[10]){;ToText(\"<p></p>Заблудший оставить решил это место,<p></p>Вели́к заколдованный проклятый лес.<p></p>И кто здесь поделится добрым известьем,<p></p>Да тщетным плутаньям настанет конец?<p></p><br><p></p>Быть может, что девушка-призрак в том доме,<p></p>Расскажет секрет этой странной избы?<p></p>Заблудший спешил по тропинке знакомой,<p></p>Чтоб сведенья нужные там раздобыть.<p></p><br><p></p>И девушка радостно встретила гостя.<p></p>Ему рассказала, про что он просил,<p></p>Да вновь умоляла остаться с ней после,<p></p>Противиться, кажется, не было сил...<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='ASM.var[10] = true;PrintLocation(&quot;75/1&quot;);event.stopPropagation()'>Вернуться к избе</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PopupLocation(&quot;history&quot;);event.stopPropagation()'>История о безумце</span></span>\"+'</span>'+\"<p></p>\");}else{;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;75/1&quot;);event.stopPropagation()'>Далее</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(36,"75/1",";ToText(\"Но путник уж знал, что не всё тут так просто,<p></p>Внимательней следует дом рассмотреть.<p></p>Под крышей заметил он ласточек гнёзда,<p></p>За домом нашел рыболовную сеть.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;84&quot;);event.stopPropagation()'>Приглядеться к сети</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;85&quot;);event.stopPropagation()'>Пошарить в гнездах</span></span>\"+'</span>');",1));Location.push(new Locations(37,"76",";ToText(\"На утро, поспав на хозяйской кровати,<p></p>Чуть солнце взошло, гость отправился в путь.<p></p>Решив, что он цену любую заплатит,<p></p>За то, чтоб свободу обратно вернуть.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;28/1&quot;);event.stopPropagation()'>Отправиться в путь</span></span>\"+'</span>');",1));Location.push(new Locations(38,"77",";ASM.var[11] = true;ToText(\"<p></p>«Я думаю, нет. Но возьми в моей спальне<p></p>Простой амулет, его сделала я,<p></p>Когда ведьмы раскрыла коварные тайны,<p></p>Подумав, что может спасти он меня.<p></p><br><p></p>Снаружи сожми его крепко в ладони,<p></p>Мне силу подарит тепло твоих рук.<p></p>Тогда я и выйду на время из дома.<p></p>Поближе к отцу сделай это, мой друг.<p></p><br><p></p>Попробую сквозь его панцирь пробиться<p></p>И ярости кокон слепой разорвать.<p></p>Он бьется внутри, как плененная птица,<p></p>Настала пора его душу спасать.»<p></p>\");if(!ASM.var[32]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;75&quot;);event.stopPropagation()'>Отправиться к избушке</span></span>\"+'</span>'+\"<p></p>\");};ToText(\"<p></p>\");if(ASM.var[30]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;76&quot;);event.stopPropagation()'>Вернуться к ведьме</span></span>\"+'</span>'+\"<p></p>\");};ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;78&quot;);event.stopPropagation()'>Отправиться на поиски зверя</span></span>\"+'</span>');",1));Location.push(new Locations(39,"78",";ToText(\"На утро, поспав на хозяйской кровати,<p></p>Чуть солнце взошло, гость отправился в путь.<p></p>Решив, что он цену любую заплатит,<p></p>За то, чтоб свободу обратно вернуть.<p></p><br><p></p>Так спутник решил — своей жизнью рискуя,<p></p>Он зверя найдет и его победит.<p></p>И шел он, преследуя цель непростую,<p></p>Уверенный в силах своих, как гранит.<p></p><br><p></p>Меж тем, уже лес становился темнее.<p></p>Здесь ели росли, коим тысяча лет.<p></p>И путник заметил, как между деревьев<p></p>Над тушей оленя застыл силуэт.<p></p><br><p></p>Заблудший достал амулет осторожно<p></p>И даже дыханье свое затаив,<p></p>Почуял, как страх заползает под кожу,<p></p>Недавней отваги бесследно лишив.<p></p>И девушка дымкой едва уловимой,<p></p>Как лёгкий скользит по листве ветерок,<p></p>Вдруг стройной фигурой из тени явилась —<p></p>Трава не примялась под тяжестью ног.<p></p><br><p></p>Охотник застыл, со стрелой наготове,<p></p>Стал мертвенно бледен тотча́с его лик.<p></p>Он что-то сказать уже был наготове,<p></p>Но вот чудеса, онемел в тот же миг.<p></p><br><p></p>А зверь... Отступил! Застонал, припадая<p></p>К земле, как домашний, испуганный пёс.<p></p>И девушка песней его подзывая,<p></p>Словами гасила безумную злость.<p></p><br><p></p>И вдруг вся картина за миг поменялась,<p></p>Увидел заблудший не монстра и дочь,<p></p>А сущности две, что друг с другом сражались,<p></p>Она была светлой, он чёрен, как ночь.<p></p><br><p></p>В той битве слова её резвою плетью<p></p>Хлестали, снимая проклятую плоть.<p></p>Сквозь чёрное виделись лучики света<p></p>И плеть продолжала нещадно пороть.<p></p><br><p></p>И вдруг... Они вместе, два призрака светлых,<p></p>Растаяли вовсе, за руки держась.<p></p>А зверь — порожденная магией клетка —<p></p>Грудóй несуразной остался лежать.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;82&quot;);event.stopPropagation()'>Уйти восвояси</span></span>\"+'</span>'+\"<p></p>\");if(!ASM.var[32]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;75&quot;);event.stopPropagation()'>Отправиться к избушке</span></span>\"+'</span>'+\"<p></p>\");};ToText(\"<p></p>\");if(!ASM.var[31]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;97&quot;);event.stopPropagation()'>Идти к одинокой скале</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(40,"82",";ToText(\"Он больше не тратил впустую мгновенья,<p></p>Сноровисто шёл по тропе, на закат.<p></p>Что было, то было, и зов приключений<p></p>Ведёт его дальше, не стихнет никак...<p></p>\");DisplayLocation('конец');",1));Location.push(new Locations(41,"84",";ToText(\"То старая снасть, прохудилась местами,<p></p>Уж век тут без дела висит на стене,<p></p>Внизу проросла бурьянóм и кустами,<p></p>И нынче с неё никакой пользы нет.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;85&quot;);event.stopPropagation()'>Пошарить в гнездах</span></span>\"+'</span>');",1));Location.push(new Locations(42,"85",";ToText(\"В заброшенных гнёздах пошарив рукою,<p></p>Заблудший нашел колокольчик, чей звон,<p></p>Пространство наполнил блаженным покоем.<p></p>Мелодия с ветром играла меж крон.<p></p><br><p></p>«Приветствую!» — голос раздался внезапно,<p></p>У путника вздогнувшего позади.<p></p>«Давай поиграем со мною в загадки?<p></p>Коль три разгадаешь, то можешь входить!»<p></p><br><p></p>И путник неспешно на звук обернулся,<p></p>Но там не увидел совсем никого.<p></p>«Ну что же ты дёрнулся, как от укуса?<p></p>Согласен?» «Согласен.» «Другой разговор!»<p></p>\");ASM.var[19] = 1;ToText(\"<p></p>\");ASM.var[5] = '';ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;Загадки&quot;);event.stopPropagation()'>Загадки</span></span>\"+'</span>');",1));Location.push(new Locations(43,"86",";ToText(\"«Ну что же, бродяга, довольно неплохо!<p></p>Доселе никто разгадать их не мог.<p></p>А ты разгадал, да ещё и так ловко.<p></p>Теперь, так и быть, я открою замок.»<p></p><br><p></p>И дверь отворилась, скрипучие петли<p></p>Заблудшего в миг возвестили о том.<p></p>В сомнении он на пороге помедлил,<p></p>А после шагнул неуверенно в дом.<p></p><br><p></p>Внутри воцарилось давно запустенье.<p></p>Вошедший на месте в смятеньи стоял.<p></p>Он видел, что там, где сгустились все тени,<p></p>Открытая крышка на входе в подвал.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;87&quot;);event.stopPropagation()'>Войти в подвал</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;188&quot;);event.stopPropagation()'>Сбежать</span></span>\"+'</span>');",1));Location.push(new Locations(44,"87",";ToText(\"Чем ближе ко тьме проходил непроглядной,<p></p>Что словно вода колыхалась внутри,<p></p>Тем больше казалось, что враг стоит сзади,<p></p>Казалось, что взор его гневом горит.<p></p><br><p></p>Когда очутился у самого края,<p></p>То вздрогнул, на шаг отступив, в тот же миг.<p></p>Не веря глазам своим, не понимая —<p></p>Оттуда смотрел на него детский лик...<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;88&quot;);event.stopPropagation()'>После этого...</span></span>\"+'</span>');",1));Location.push(new Locations(45,"88",";ToText(\"«Не бойся!» — сказал ему тот, бестелесый,<p></p>Любитель загадок, что двери открыл.<p></p>«Спасти его как, для меня неизвестно.<p></p>Бессилен помочь я, хоть он и просил.»<p></p><br><p></p>И путник с презреньем подумал о страхе,<p></p>Что им овладел. «То всего лишь дитя!<p></p>Давно он в подвале пленённый тут чахнет?»<p></p>«От тела остался его лишь костяк...<p></p><br><p></p>Быть может и больше осталось, но крысы!<p></p>Проклятые крысы повсюду снуют.»<p></p>«Еще один призрак... А я б не помыслил,<p></p>Что нечисти столько изводится тут...<p></p><br><p></p>И как мне помочь тебе, бедный, несчастный?»<p></p>Пришедший спросил, наклонившись в подвал.<p></p>Но призрак смотрел на него безучастно,<p></p>И губ своих раненых не размыкал.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;89&quot;);event.stopPropagation()'>Спуститься вниз</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;90&quot;);event.stopPropagation()'>Вернуться в девушке-призраку для совета</span></span>\"+'</span>');",1));Location.push(new Locations(46,"89",";ToText(\"По лестнице старой спустившись в потёмки,<p></p>Иное увидел там гость бытие:<p></p>Там мальчик рыдал безнадёжно и звонко,<p></p>Зажавшись в комок на холодной земле.<p></p><br><p></p>Вокруг — бесконечное серое поле,<p></p>А небо — свинцовый, тяжелый навес.<p></p>Здесь смертью разило. И страхом. И болью!<p></p>Родным показался вдруг про́клятый лес.<p></p><br><p></p>Была у ребенка на шее верёвка,<p></p>Привязана к колу, что в землю забит.<p></p>А узел на нем был затянут так ловко,<p></p>Что справиться с ним, только пальцы губить.<p></p><br><p></p>Но путник попыток всё не прекращая,<p></p>Совсем не заметил, что плач уже стих.<p></p>И мальчик сидит, безнадежно печален,<p></p>Как-будто не хочет от плена спастись.<p></p><br><p></p>И вдруг в небесах, словно кто-то чернила<p></p>Разлил — непроглядная жуткая мгла<p></p>Стремительно весь горизонт затопила.<p></p>И дальше, по тверди земной потекла.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;91&quot;);event.stopPropagation()'>Спросить ребенка, в чем дело?</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;92&quot;);event.stopPropagation()'>Поторопиться с узлом</span></span>\"+'</span>');",1));Location.push(new Locations(47,"9",";ToText(\"Легко отворилась покатая крышка,<p></p>Внутри обнаружился старенький ключ,<p></p>Гадать от чего этот ключ было лишним,<p></p>Как рык вдруг раздался: свиреп и могуч!<p></p><br><p></p>Снаружи, согбенный под страшною злобой,<p></p>Застыл небывалый хитиновый зверь.<p></p>Казалось, урчанье из самой утробы,<p></p>И путник не ведал, что делать теперь.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;11&quot;);event.stopPropagation()'>Бежать в лес!</span></span>\"+'</span>');",1));Location.push(new Locations(48,"90",";ToText(\"«Я видела, что-то в избе непонятно,<p></p>Но чтобы настолько... Сюрприз, так сюрприз.<p></p>Придется тебе рисковать безоглядно.<p></p>Попробуй в тот погреб с ребенком спустись.»<p></p><br><p></p>Так призрак сказал, когда путник вернулся<p></p>До дома её и теперь уж решать:<p></p>Спуститсья во тьму и пойти на безумство<p></p>Или же путь свой к спасенью искать?<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;89&quot;);event.stopPropagation()'>Вернуться к призраку</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;188&quot;);event.stopPropagation()'>Отправиться в лес</span></span>\"+'</span>');",1));Location.push(new Locations(49,"91",";ToText(\"«Старуха, когда этот узел вязала,<p></p>Прошло уже времени много с тех пор,<p></p>Но точно я помню, что что-то шептала,<p></p>Наверно, какой-нибудь свой наговор...»<p></p><br><p></p><i>Помогите ребенку вспомнить наговор старой ведьмы, и тогда узел развяжется!</i><p></p><br><p></p>Вейся верёвка, \"+ASM.var[8]+''+\" вяжись,<p></p>Тебя не разрежут стальные \"+ASM.var[16]+''+\",<p></p>С тобою не сдюжат за целую \"+ASM.var[17]+''+\"<p></p>Ни ловкая \"+ASM.var[18]+''+\", ни крепкий \"+ASM.var[14]+''+\"!<p></p>\");var value=ASM.var[3];if(!value && value!=0){value='';}else{value=value.toString();};var focus='';if(!isTouchDevice){focus='autofocus';};ToText(\"<div class='myinput'><form action='' onsubmit='if(this.childNodes[0].value.trim()!=&quot;&quot;){ASM.var[3]=this.childNodes[0].value.trim();if(!isNaN(ASM.var[3])){ASM.var[3]=parseFloat(ASM.var[3]);} PrintLocation(&quot;911&quot;);} this.childNodes[0].select(); return false;'><input class='input_text' type='text' onclick='event.stopPropagation();' autocapitalize='off' size='10' value='\"+value+\"'\"+focus+\"><input class='input_butt' type='submit' onclick='event.stopPropagation();' value='✓'></form></div>\");ToText(\"<p></p>\");if(ASM.var[20]<5){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;92&quot;);event.stopPropagation()'>Сдаться...</span></span>\"+'</span>'+\"<p></p>\");}else if(ASM.var[20]==5){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;93&quot;);event.stopPropagation()'>Победа!</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(50,"911",";if(ASM.var[3]=='ножи'){;ASM.var[16] = 'ножи';ASM.var[20]++;};ToText(\"<p></p>\");if(ASM.var[3]=='узел'){;ASM.var[8] = 'узел';ASM.var[20]++;};ToText(\"<p></p>\");if(ASM.var[3]=='жизнь'){;ASM.var[17] = 'жизнь';ASM.var[20]++;};ToText(\"<p></p>\");if(ASM.var[3]=='девка'){;ASM.var[18] = 'девка';ASM.var[20]++;};ToText(\"<p></p>\");if(ASM.var[3]=='мужик'){;ASM.var[14] = 'мужик';ASM.var[20]++;};ToText(\"<p></p>\");DisplayLocation('91');",1));Location.push(new Locations(51,"92",";ToText(\"Чернильная тьма поглотила обоих.<p></p>И ведьма вдвойне теперь стала сильней.<p></p>Заблудший навек не познает покоя,<p></p>Плененный колдуньей, вне мира людей.<p></p>\");DisplayLocation('конец');",1));Location.push(new Locations(52,"93",";ASM.var[32] = true;ToText(\"<p></p>\");ASM.var[31] = true;ToText(\"<p></p>Их тьма окружила и злобно шептала,<p></p>Готовая души навек поглотить.<p></p>Но путник успел, пока света не стало,<p></p>В последний момент узелок расплести!<p></p><br><p></p>И вновь оказался в подвале глубоком,<p></p>Заметив, что призрак ребенка пропал.<p></p>Наверно, в мир мёртвых ушел беззаботно,<p></p>Не зря ж его узел проклятый держал?<p></p>\");if(ASM.var[30]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;94&quot;);event.stopPropagation()'>Отправиться к ведьме</span></span>\"+'</span>'+\"<p></p>\");};ToText(\"<p></p>\");if(ASM.var[11]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;78&quot;);event.stopPropagation()'>Пойти на поиски зверя</span></span>\"+'</span>'+\"<p></p>\");};ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;95&quot;);event.stopPropagation()'>Позвать бестелесого</span></span>\"+'</span>');",1));Location.push(new Locations(53,"94",";ToText(\"Заблудший вернулся к скале одинокой,<p></p>Где ведьма с охотником ждут до сих пор,<p></p>Но встретивши их, удивился, поскольку<p></p>Охотник подкидывал сучья в костер.<p></p><br><p></p>И то был огонь, очищающий душу,<p></p>Костер погребальный горел у скалы!<p></p>«Все стало понятно, он гнев свой обрушил...<p></p>На ведьму. Дружище, что делаешь ты?»<p></p><br><p></p>Заблудший спросил осторожно у парня,<p></p>Что тело возлубленной в ткань завернул,<p></p>Была ведьма жуткой, уродливой, старой!<p></p>«В личину прекрасного грязь обернув,<p></p><br><p></p>Нас всех обманула злой магией, чёрной!<p></p>Да зельями, кои послушно я пил,<p></p>Чтоб я ей служил ослеплённый, покорно...<p></p>За это я ведьму вчера погубил!»<p></p><br><p></p>«Но как ты узнал?» «Мы гуляли по лесу,<p></p>Как вдруг, словно морок, её красота<p></p>В мгновение ока успела исчезнуть.<p></p>А разум мой ясным, негаданно, стал.<p></p><br><p></p>Мы следом за нею убьём того зверя,<p></p>Но только уж нет заколдованных стрел.<p></p>Колчан предыдущий давно был расстрелян,<p></p>Я слышал, ты выбраться тоже хотел<p></p><br><p></p>Из чертого леса?» «Но как это сделать?»<p></p>«Придется самим заклинанья учить!<p></p>Я видел, как ведьма чертила на стрелах<p></p>Волшебные знаки, их помню почти.»<p></p><i>головоломка в разработке</i><p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;96&quot;);event.stopPropagation()'>Если головоломка разгадана</span></span>\"+'</span>');",1));Location.push(new Locations(54,"95",";ToText(\"«Надолго ж пропал ты!» — на зов появился<p></p>Лохматый, весь в листьях, чудной старичок.<p></p>«Да вроде я только что в погреб спустился...» —<p></p>Задумчиво путник одёрнул плечом.<p></p><br><p></p>«Э, нет! С той поры ты исчез на неделю!<p></p>Уж верно, волшба учинила игру.»<p></p>Заблудший в такое как-будто не верил,<p></p>Хоть врать и не стал бы невидимый друг.<p></p>\");if(ASM.var[30]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;94&quot;);event.stopPropagation()'>Отправиться к ведьме</span></span>\"+'</span>'+\"<p></p>\");};ToText(\"<p></p>\");if(ASM.var[11]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;78&quot;);event.stopPropagation()'>Пойти на поиски зверя</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(55,"96",";ToText(\"Их долгим был путь, удалось лишь к полудню<p></p>Застать небывалого монстра в лесу.<p></p>«Не бойся, с ним справиться будет не трудно,<p></p>Тебя я от смерти стрелою спасу.»<p></p><br><p></p>И путник со страхом ступил на поляну,<p></p>Где зверь рвал на части добычу свою.<p></p>Он злобно рычал и ворчал неустанно,<p></p>Как-будто покоя ему не дают.<p></p><br><p></p>Заблудший прикрикнул и зверь разъяренно<p></p>К нему устремился в могучем прыжке,<p></p>Не знал, что жертва та вышла покорно<p></p>Ему на погибель. И мир потускнел,<p></p><br><p></p>Когда в его панцирь волшебные стрелы<p></p>Вонзились и с хрустом его разломав,<p></p>В траве прокатилось безволное тело.<p></p>Над лесом проклятья сошла пелена.<p></p><br><p></p>«Теперь мы свободны!» — задорно охотник,<p></p>Поправил колчан за спиной у себя.<p></p>«Навек не забуду, что было сегодня!» —<p></p>Заблудший за плечи стрелка приобнял.<p></p><br><p></p>Их было прощанье недолгим и скудным,<p></p>На жесты, слова, каждый думал свое.<p></p>Союз их, сколь быстрый и столь безрассудный,<p></p>Закончился этим же пасмурным днем...<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;82&quot;);event.stopPropagation()'>Покинуть лес</span></span>\"+'</span>'+\"<p></p>\");if(!ASM.var[32]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;75&quot;);event.stopPropagation()'>Отправиться к избушке</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(56,"97",";ToText(\"«А ты молодец!» — её ласковый голос<p></p>И взгляд неизменно мужчин чаровал.<p></p>Он в пыль превращал их уверенность, гордость...<p></p>Так что привело его? Путник не знал.<p></p><br><p></p>«А что это ты на неё так упорно<p></p>Уставился?» — вышел охотник к скале.<p></p>Глаза его, злобой горящие черной<p></p>Так явно сказали — случиться беде,<p></p><br><p></p>Что путник помчался в кусты, опасаясь<p></p>Погибнуть так глупо от подлой стрелы.<p></p>Петлял меж деревьев, шустрее чем заяц,<p></p>Но волк совсем рядом внезапно завыл.<p></p><br><p></p>Он выскочил сбоку, огромный и серый.<p></p>Могучие лапы легко сбили с ног.<p></p>В спасенье здесь глупо бы было поверить,<p></p>Ведь челюсть на шее сомкнулась в замок.\");",1));Location.push(new Locations(57,"StoryAuthor","Соловьев (Rapsoda) Cтанислав",0));Location.push(new Locations(58,"StorySubtitle","Это интерактивная история в стихах, в которой Вы играете роль путника, оказавшегося в заколдованном лесу. Чтобы выбраться из леса, придётся познакомиться с его обитателями и помочь им, чтобы найти способ вновь оказаться на свободе.",0));Location.push(new Locations(59,"StoryTitle","Тайна леса",0));Location.push(new Locations(60,"history",";ToText(\"«Давно это было, ещё в раннем детстве.<p></p>Там жил одинокий безумный старик.<p></p>Отец говорил, он такой по наследству —<p></p>С собой говорил от зари, до зари.<p></p><br><p></p>И запер себя изнутри он, однажды.<p></p>Отца не впускал. И не ел, и не пил.<p></p>Судьба мне его показалось не важной,<p></p>Отец же к нему постоянно ходил.»\");",1));Location.push(new Locations(61,"Загадки",";ASM.var[5] = ASM.var[5].trim().toLowerCase();ToText(\"<p></p>\");if(ASM.var[19]==1){;ToText(\"<p></p>	\");if(ASM.var[5]=='охотник'){;ToText(\"<p></p>		Верно!<p></p>		\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='ASM.var[19] = 2;PrintLocation(&quot;загадки&quot;);event.stopPropagation()'>Следующая загадка</span></span>\"+'</span>'+\"<p></p>	\");}else if(ASM.var[19]==1){;ToText(\"<p></p>		<div class=header>Загадка №1</div><p></p>		Идёт по тропе осторожнее зверя,<p></p>		Хитрее лисиц и опасней волков.<p></p>		Как рысь, затаившись сидит меж деревьев,<p></p>		В руках его свист, проливающий кровь.<p></p>		<br><i>Ответ:</i><p></p>		\");var value=ASM.var[5];if(!value && value!=0){value='';}else{value=value.toString();};var focus='';if(!isTouchDevice){focus='autofocus';};ToText(\"<div class='myinput'><form action='' onsubmit='if(this.childNodes[0].value.trim()!=&quot;&quot;){ASM.var[5]=this.childNodes[0].value.trim();if(!isNaN(ASM.var[5])){ASM.var[5]=parseFloat(ASM.var[5]);} PrintLocation(&quot;загадки&quot;);} this.childNodes[0].select(); return false;'><input class='input_text' type='text' onclick='event.stopPropagation();' autocapitalize='off' size='10' value='\"+value+\"'\"+focus+\"><input class='input_butt' type='submit' onclick='event.stopPropagation();' value='✓'></form></div>\");ToText(\"<p></p>	\");};ToText(\"<p></p>\");}else if(ASM.var[19] == 2){;ToText(\"<p></p>	\");if(ASM.var[5]=='огонь'||ASM.var[5]=='голод'){;ToText(\"<p></p>		Верно!<p></p>		\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='ASM.var[19] = 3;PrintLocation(&quot;загадки&quot;);event.stopPropagation()'>Следующая загадка</span></span>\"+'</span>'+\"<p></p>	\");}else if(ASM.var[19]==2){;ToText(\"<p></p>		<div class=header>Загадка №2</div><p></p>		ОН зверя погонит в любую погоду,<p></p>		А коль ОН велик, не прервётся тот бег.<p></p>		И зная сию неизменность природы,<p></p>		Использует в целях своих человек.<p></p>		<br><i>Ответ:</i><p></p>		\");var value=ASM.var[5];if(!value && value!=0){value='';}else{value=value.toString();};var focus='';if(!isTouchDevice){focus='autofocus';};ToText(\"<div class='myinput'><form action='' onsubmit='if(this.childNodes[0].value.trim()!=&quot;&quot;){ASM.var[5]=this.childNodes[0].value.trim();if(!isNaN(ASM.var[5])){ASM.var[5]=parseFloat(ASM.var[5]);} PrintLocation(&quot;загадки&quot;);} this.childNodes[0].select(); return false;'><input class='input_text' type='text' onclick='event.stopPropagation();' autocapitalize='off' size='10' value='\"+value+\"'\"+focus+\"><input class='input_butt' type='submit' onclick='event.stopPropagation();' value='✓'></form></div>\");ToText(\"<p></p>	\");};ToText(\"<p></p>\");}else if(ASM.var[19] == 3){;ToText(\"<p></p>	\");if(ASM.var[5]=='смерть'){;ToText(\"<p></p>		\");printDiv=$('print');PrintLocation('86');fade(printDiv);NoBack();throw new Error('GOTO macro exception.');ToText(\"<p></p>	\");}else if(ASM.var[19]==3){;ToText(\"<p></p>		<div class=header>Загадка №3</div><p></p>		Никто не спасётся от этой напасти,<p></p>		Что ставит на каждом рождённом клеймо.<p></p>		На откуп ты ей не предложишь богатства,<p></p>		Не спрячешься в замке, за прочной стеной.<p></p>		<br><i>Ответ:</i><p></p>		\");var value=ASM.var[5];if(!value && value!=0){value='';}else{value=value.toString();};var focus='';if(!isTouchDevice){focus='autofocus';};ToText(\"<div class='myinput'><form action='' onsubmit='if(this.childNodes[0].value.trim()!=&quot;&quot;){ASM.var[5]=this.childNodes[0].value.trim();if(!isNaN(ASM.var[5])){ASM.var[5]=parseFloat(ASM.var[5]);} PrintLocation(&quot;загадки&quot;);} this.childNodes[0].select(); return false;'><input class='input_text' type='text' onclick='event.stopPropagation();' autocapitalize='off' size='10' value='\"+value+\"'\"+focus+\"><input class='input_butt' type='submit' onclick='event.stopPropagation();' value='✓'></form></div>\");ToText(\"<p></p>	\");};ToText(\"<p></p>\");};",1));Location.push(new Locations(62,"80",";ToText(\"Заблудший припомнив недавнюю встречу,<p></p>Извлек из кармана простой амулет.<p></p>Моля, чтобы зверь его не покалечил,<p></p>В надежде, что призрак найдет его след.<p></p><br><p></p>И девушка дымкой едва уловимой,<p></p>Как легкий скользит по листве ветерок,<p></p>Вдруг стройной фигурой из тени явилась —<p></p>Трава не примялась под тяжестью ног.<p></p><br><p></p>Охотник застыл, со стрелой наготове,<p></p>Стал мертвенно бледен тотчас его лик.<p></p>Он что-то сказать уже был наготове,<p></p>Но вот чудеса, онемел в тот же миг.<p></p><br><p></p>А зверь... Отступил! Застонал, припадая<p></p>К земле, как домашний, испуганный пес.<p></p>И девушка песней его подзывая,<p></p>Словами гасила безумную злость.<p></p><br><p></p>И вдруг вся картина за миг поменялась,<p></p>Увидел заблудший не монстра и дочь,<p></p>А сущности две, что друг с другом сражались,<p></p>Она была светлой, он черен, как ночь.<p></p><br><p></p>В той битве слова её резвою плетью<p></p>Хлестали, снимая проклятую плоть.<p></p>Сквозь черное виделись лучики света<p></p>И плеть продолжала нещедно пороть.<p></p><br><p></p>И вдруг... Они вместе, два призрака светлых,<p></p>Растаяли вовсе, за руки держась.<p></p>А зверь — порожденная магией клетка —<p></p>Грудой несуразной остался лежать.<p></p><b><div align=center>[Достигнута цель &quot;Убить монстра!&quot;]</div></b><p></p>\");if(!ASM.var[32]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;75&quot;);event.stopPropagation()'>Отправиться к избушке</span></span>\"+'</span>'+\"<p></p>\");};ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;82&quot;);event.stopPropagation()'>Покинуть заколдованный лес</span></span>\"+'</span>'+\"<p></p>\");if(!ASM.var[31]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;83&quot;);event.stopPropagation()'>Поговорить с охотником</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(63,"StoryStyle","@import url('https://fonts.googleapis.com/css?family=El+Messiri|Ruslan+Display');<p></p>@import url('https://fonts.googleapis.com/css?family=Cormorant+Infant');<p></p>*, #body {<p></p>  -webkit-text-size-adjust:none; -webkit-tap-highlight-color:rgba(0,0,0,0); -webkit-focus-ring-color:rgba(0,0,0,0); outline:none; -webkit-touch-callout:none; -moz-user-select:none; -o-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -ms-user-select:none; user-select:none; -webkit-user-drag:none; user-drag:none;<p></p>}<p></p>p {margin-top:0; margin-bottom:0.6em;}<p></p>html, #body {margin:0; height:100%; overflow:hidden;}<p></p>#body, input {font-size:95%;}<p></p>#body, .input_text, .input_butt {font-family: 'El Messiri', sans-serif;}<p></p>.input_text, .input_butt, #printCont, #printAdd, #printImage, .wind, .button, .buttonno, .buttonback, .dialogButton, #shadowlayer {background-color:rgba(0,0,0,0.5); color:#FFFFFF;}<p></p>#body {<p></p>  background-image:url(#);<p></p>  background-repeat:repeat;<p></p>  background-color:#222222;<p></p>  word-wrap:break-word;<p></p>}<p></p>#toolbar, #toolbar * {background-color:transparent; color:#FFFFFF;}<p></p>#menu, #menu * {background-color:transparent; color:#E9D460;}<p></p>#toolbar {height:36px; position:absolute; top:0; left:0; width:100%; padding:6px 0; overflow:hidden; z-index:1; font-size:0.9em;}<p></p>#toolbar, #menu {opacity:0.85;}<p></p>#page, #printCont, #printImage, #printAddCont, #printAdd, #printAddText, #console, #toolbar, .wind, #menu, .button, .buttonno, .buttonback, .input_text {-moz-box-sizing:border-box; -webkit-box-sizing:border-box; box-sizing:border-box;}<p></p>#page {display:none; height:100%; max-height:100%; width:100%; max-width:600px; text-align:left; padding:0; margin:0 auto;}<p></p>#printTitle {display:block; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}<p></p>#printCont, #printImage, #menu, #toolbar {box-shadow:none;}<p></p>#printCont {position:absolute; top:36px; bottom:36px; left:0; right:0; padding:0 10px; overflow:auto; -webkit-overflow-scrolling:touch;}<p></p>#printImage {display:none; overflow:hidden; position:absolute; top:36px; bottom:36px; left:0; right:0;}<p></p>#clickImage {width:100%; height:100%; object-fit:cover; max-width:none;}<p></p>#print, #printAdd, #menu {line-height:1.4em;}<p></p>#print {margin:0 auto; max-width:600px;}<p></p>#menu {height:36px; max-height:36px; margin:0; padding:3px 3px 3px 20px; font-size:13px; overflow:auto; -webkit-overflow-scrolling:touch; position:absolute; left:0; right:0; bottom:0; text-align:center; z-index:98; line-height:1.1em;}<p></p>#menuTable {height:100%;}<p></p>#menu span {background-color:inherit; border:none; border-radius:0; padding:0; display:inline-block; margin:0 4px 0 0; max-width:100px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}<p></p>#menu img {display:inline; max-height:20px; vertical-align:middle;}<p></p>#printAddCont {display:none; padding:56px 20px; position:absolute; left:0; bottom:0; top:0; right:0; z-index:100; overflow:hidden;}<p></p>#printAdd {width:100%; max-width:668px; margin:0 auto; padding:0 10px; max-height:100%; overflow:auto; -webkit-overflow-scrolling:touch; box-shadow:0 0 3px #000;}<p></p>#printAddText {text-align:left;position:relative;}<p></p>.wind {display:none; position:absolute; width:240px; margin-top:-110px; margin-left:-120px; height:auto; max-height:220px; left:50%; top:50%; z-index:101; padding:12px; text-align:center; overflow:auto; -webkit-overflow-scrolling:touch; font-size:15px; box-shadow:0 0 3px #000; line-height:1.6em;}<p></p>.plink, .plinkno, a, .button, .buttonno, .buttonback, .dialogButton, #storytitle {color:#E9D460; text-decoration:none; -webkit-tap-highlight-color:rgba(128,128,128,0.2);}<p></p>.wind .plink, .wind .plinkno {color:inherit;}<p></p>.button, .buttonno, .buttonback, .dialogButton {display:table; font-size:0.95em; border-width:2px; border-style:solid; border-color:#FFFFFF; padding:3px 8px; margin:0 4px 2px 0; max-width:90%; -webkit-hyphens: auto; hyphens: auto; border-radius:24px; -webkit-tap-highlight-color:rgba(128,128,128,0.2);}<p></p>.dialogButton {display:inline-block; padding:2px 0px; margin:0; min-width:30px; width:44%;}<p></p>.plinkno, .buttonno {opacity:0.6;}<p></p>#storyauthor {font-size:1.3em; letter-spacing:0.12em; line-height:1;}<p></p>#storytitle {font-size:1.8em; margin:1em 0; line-height:1;}<p></p>#storyauthor p, #storytitle p {margin:0;}<p></p>#storysubtitle {font-size:0.8em; text-align:center; max-height:8em; overflow:auto; -webkit-overflow-scrolling:touch;}<p></p>tt, #console {font-family:Menlo, Monaco, 'Droid Sans Mono', 'Courier New', Courier, 'Lucida Console', monospace;}<p></p>.input_text {-webkit-appearance:none; margin:0; padding:4px; width:90%; border-width:0;}<p></p>.input_text, #console, #console *, tt {-moz-user-select:text; -o-user-select:text; -khtml-user-select:text; -webkit-user-select:text; -ms-user-select:text; user-select:text;}<p></p>.input_butt {-webkit-appearance:none; margin:0; text-align:right; width:10%; padding:4px; border:none;}<p></p>.myinput, .trow {border-width:2px; border-style:solid; border-color:#FFFFFF;}<p></p>.myinput {padding:2px; width:100%; margin:0 auto; clear:both;}<p></p>.trow, .trow_nb {word-wrap:break-word; table-layout:fixed; margin-bottom:4px;}<p></p>.trow_nb {border:none;}<p></p>.rcol {border-left-width:2px; border-left-style:solid; border-left-color:#FFFFFF;}<p></p>.hr {color:#FFFFFF; background-color:#FFFFFF; width:100%; border:none; height:2px;}<p></p>.asterisk {font-size:1.2em; text-align:center; margin:0;}<p></p>.header {color:#59ABE3;}<p></p>.header {font-size:1.3em; text-align:center; padding:0.5em 0; display:block;}<p></p>img {max-width:100%; border:none; margin:0; padding:0;}<p></p>.file {max-width:100%; display:block; margin:0.2em auto;}<p></p>.avatar {visibility:hidden; max-width:90%;}<p></p>.video {position:relative; padding-bottom:56.25%; padding-top:30px; height:0; overflow:hidden;}<p></p>.video iframe, .video object, .video embed {position:absolute; top:0; left:0; width:100%; height:100%;}<p></p>li {margin-left:0px; list-style-type:circle;}<p></p>.choice {margin-left:1.75em; position:relative;}<p></p>.choice .plink {margin:0.5em 0;}<p></p>.choice .plink:before {content:'✓'; position:absolute; left:-1.5em; visibility:hidden; color:#FFFFFF; -webkit-transition:opacity 0.5s ease; transition:opacity 0.5s ease; opacity:0;}<p></p>.choice .selected:before {visibility:visible; opacity:1;}<p></p>#console {position:absolute; top:0; right:0; left:0; z-index:99; margin-top:36px; padding:0 5px; color:#000000; height:0; overflow:hidden; -webkit-overflow-scrolling:touch; font-size:12px; -webkit-transition:height 0.5s ease; transition:height 0.5s ease;}<p></p>body {scrollbar-face-color:#FFFFFF; scrollbar-track-color:rgba(0,0,0,0.5);}<p></p>{}::-webkit-scrollbar<p></p>{<p></p>	width:6px;<p></p>	height:6px;<p></p>}<p></p>{}::-webkit-scrollbar-corner<p></p>{<p></p>	background:transparent;<p></p>}<p></p>{}::-webkit-scrollbar-track<p></p>{<p></p>	background:transparent;<p></p>}<p></p>{}::-webkit-scrollbar-thumb, .scrollbar<p></p>{<p></p>	background-color:rgba(255,255,255,0.2); border-radius:0; opacity:0.7;<p></p>}<p></p>.imgbutton {display:inline-block; width:24px; height:24px; background-size:24px;}<p></p>.imgbutton:hover {opacity:0.8;}<p></p>#showImageButton {position:absolute; background:#FF0000; bottom:0; left:0; width:20px; height:36px; font-size:20px; overflow:hidden; text-align:center; z-index:100; background:no-repeat center center url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAAMFBMVEUAAAD////F5P9/wkbW7P9nvEgSiUa02//95ASr1/+Zy/mHvvB1seg9tEz90QTf8f96IAwnAAAAAXRSTlMAQObYZgAAAF1JREFUCNdjwAoEwUAAyJLoeHPmzBkI6/Xu3bshrFerVq0CseTeWc6cORPEEi9XKi8vB7GElEAAxBJxAQEQSyzt/7e0/yCW7N203LtpIJZoKAiAWMLGICCAZC9+AAD1sR3QeboaSAAAAABJRU5ErkJggg==);}<p></p>#audioButton {display:none; opacity:0.5; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAdVBMVEUAAAAAAAAcFhwBAQAAAAABAwMAAQEAAAEAAAEBAAEBAQEBAQABBAMCAgIEAQEHAQgXChAAAAD////v8O8FBQXd3N0REhH49/dKSksiIiK8vLx1dHRiYmIzMjLl5uXPzs6MjIyop6afoKA5ODiIiIctLS1TU1P4ylzxAAAAEXRSTlMA9QfmxWju27KqjXhbSTQYEOwosOkAAAGNSURBVEjHlVbpmoIwDGw5lkvQBKkI4r2+/yNuytpyo5kfBf1mvnaGNK2YwEnjyAukDLwoTh3xATs/lNCDDP3dCt1JfmCCn8RZovsuzML1ZyVbDxbhbaf8zIUVuNmYv5GwCrkZ8eEjBopMfhbIrOfXhS/gWufOQj77cVYmXX9CLWsabljcXwOR/57AnfAPSOMBCedTf1H/UyRj/oOo9Li2CqwUWCRtvY3r5zcnWuvh8TzTa3Hs6mo34+CoSaj5CkBdtUINXIRDvirwLaiwqPfaD1ZgEJJlOeRfUMOYLhoo6WGdS0ekw+grtIJae8kbuJLOppuK2K79fsYOrfqUa66isTSsWESGn2MfXWA1PBHvRhAJUxY3nBHACfECD5rHlocI3m/5rGBPfytFv42JQJiQcFYAFFoDWmViYgvYS2Kb5sfafbhb/s2HY5cGu/i45b26gY4zG2h9izbTLcptAkttxprG4jVoM0uN7GUaWQl9+OxWyW3G3HbPPVD4Rxb/UOQfu/yDnX914F9O2NefP39lfM3WWZekAAAAAElFTkSuQmCC);}<p></p>#BackButton {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAVFBMVEUAAAAAAAABAQAAAAEBAwMaBw4AAAEBAAAAAQABAQEBAQABBAMBAQEEAQEHAQgAAAD////19fXs6+xDQ0M9Pj0sKywwMDCysrOlpaUfHx/l5uW8vLzhDUXHAAAAD3RSTlMA9OauaA3bx8KNeFtJNBjKe016AAABO0lEQVRIx5VW25aDIAw04r3aAIvabv//P9fD0lIhkpN58WXmQCZmQpVjHtXQAXSDGueKQ9sowC+AatoSfQLMANOlpKmRRN2Q9HuPl+jvOX+psYB6Sfk3wCLglvCRxUmxAC+A5ave0/23l9avjagjVn7y58foA2YlvPr4n/A9dszRhP7WBF8bytz/nk8UX1skMPkDgOLrB+lUGytI+PaJeFGFIvkrklCHAAR8hGO+GH6CuRpFfBwrFfkFmMfzXcTgv1uZH20bqs5/9zI7NqYLJlle8BtskgrEVwpFr4Y9IBT9ttWVFTbaOmKmsFupcTOKFEc8g0QB/vcWKNR5gBw/QMmIOnZE0xBwTAjkMeOYmMmDzDFB5tHnCktGJR3G627MvlJhLI176UKRryz5UpSvXflilz8d5I8T8fPnD0myayNfQ66jAAAAAElFTkSuQmCC);}<p></p>#ConsoleButton {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAdVBMVEUAAAAAAAAAAAABAwMaBw4AAQEBAQABAQAAAAEAAAEBAAEAAQEBAQABBAMBAQEEAQEHAQgAAAD///8REhK7urmAf4AZGBnw8PAwMDBsbGw3ODji4uLPz88qKiqJiIhdXl1TU1PDxMOtrK2WlpZAQECgoKEGBwdlGHtXAAAAEXRSTlMA9cVoDe7n5Nuyqo14W0k0GKX4OrsAAAGKSURBVEjHpdbbcqswDAVQ24SWW0i3CDEEcmmS9v8/8XROO5ZEcJhM1rM9shCWbO7VZeEyazNXlLVZskpyC8HmyerR8irFnbSKbkneMOstMXM+HKLch7mzeccD7xszsbZ4yK4n67FI7dhYSM3u0HWHXaNjbES+6vxd/zV6Ij9+nTqVB2fu5PLjQMHQHsBc+P5gp5GU8QSW/NVX1Kv3NOF7UcHfmldiPc0QMar/AVI+v6cZnvNIVzqDLc266CxyDkARHCI3xnDNjhTRcvWMqRGMFPGJoDYlAk8RA4LSFAgoxiMojHsugjPZczlkxiK4UsQRgZUb9hTRyQ0Z2CfN2kIeyWEphO/UnSggtDSjh1Bw4WJ/RwupNDWUfiBl6KHUfz8fu11JuO6h2PB7s28SvqHlfIEYCZhI+IqynQAtXXETYI0AreI2s3wkbjPTLLYClES1ymUu0ozPbXDWzTjS7s8UnFW7jw6U28XTD3+5QVg/GFnNYf+ja9TIem0oLo/dlwb78tPhpcfJ08+ff4UFe7qTeKPjAAAAAElFTkSuQmCC);}<p></p>#PrefsButton {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAgVBMVEUAAAAAAAAcFhwBAQABAwMAAQEAAAEBAAAAAQAAAAEBAAEBAQEBAQABBAMBAQEEAQEHAQgXChAAAAD///8TExP19PSjo6IEBATV1dXu7u3i4uFERUasrKwgIB+WlpaNjoxXWFm8vLxMTExgX18/Pz8wMTGzs7OCgYJ8fXxtbW0qKip12iDsAAAAEnRSTlMA9QfmaO7bx8Kyqo14W0k0GBAY7GJBAAACGklEQVRIx6VW6XKDIBBWa9OYpKYREA8Uj9oc7/+AdWA5AmEymXx/1GUX9tsLIw9Jvt9tN3G82e72eRI9wSnN4sJCnKWnKIzk8Fl4+DwkIfX0o3iIj/Shyc9XEcTXj69/hO0Dhxxd/W/gGkL87eg767jrsCO6szg6+3cjQmPnnHG0+Lr+92hF7/LQzBM3PrRGK2rqxkpFN1WS3xYLAhwJcPnV/qr1FA5QDvGmGa9Lex4RYDy3y3VsGk7BKXnEAfSvQqlqkIWmEo8rqBxEvan6KVEQpaqr0x2DsMEdi6xQ+Avp/2mVbKVscjZojbpaUevP2WQvifJCg8M6KSe8hnMqCQisFObR3tRPDdvrDWeQEFNX+2in9XskMRSek7222EVb+dKeFWVWWGCK9rmVgm20Ec+LSReswD4mhRch2EQySARpYNsAGzmRYQID9NwASQNwqSdOVr3sk166BKTpXFa6bqjuC11fVTlTIG3CyhRrnzMzYbUS1xGIx6QkUwPudCZxVmno82veYkpxy4n2UiN/XHzNyNhoUjNYxQflHegg74TMbqAFBbHoBrJbtA8b9LpF7SFwkYyJrUlkgV/0ELDHDGY1qfg0iBRCuoaJV6Rm2B4zhgUd5k4kpASu8mseqGIQGpWYQJ8FRiUMY7dvmDeMw+N+qVYCiz/uwxfKbZpu7oXyzpXlX4p0hXMpvnXtPr/YX/x1eOvn5OXfn3/w+Ibw3Z3WrwAAAABJRU5ErkJggg==);}<p></p>#body, .choice .plink:before {cursor:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABYlBMVEUAAAA/Pz82Njb///8vLy////8tLS03NzeJiYklJSX39/ciIiJBQUEzMzMzMzOZmZn///8mJiY3Nzc0NDTg4OA2NjZMTEwsLCxubm5GRkZWVlYzMzM0NDQzMzM0NDQzMzMyMjIxMTEzMzMyMjIyMjIpKSk0NDTn5+f9/f09PT3Jycns7Oza2tpycnKrq6tDQ0OysrJcXFwzMzMzMzMyMjIxMTEzMzMxMTEzMzMxMTFAQECioqLZ2dkdHR03Nzfv7+/r6+vS0tJCQkIzMzOYmJi8vLy4uLhRUVEwMDDp6emioqJpaWmLi4uGhoZlZWXGxsaQkJB6enpZWVk0NDSFhYU2NjaXl5c2NjYzMzMyMjI1NTUyMjIyMjIyMjIyMjI1NTUzMzMrKys5OTn////7+/s6OjokJCQ3Nzc0NDSampomJiYxMTEtLS39/f04ODg5OTkvLy8qKir4+PgsLCwjIyMeHh7+hwJIAAAAY3RSTlMAA/H7Bfr47eL79/r201T+9/b19fT08/Px8fDvz7u1X0o7KhYR/vn29PTz8vDw7+/u7evdkXNoYkMmCPj39/b19fT09PPy8vHx8PDw7+/v7ezs6ebk5OPgyMbBrJ2AeiIZDAnUBOCsAAABsElEQVQ4y33SZ1vqMBQH8JTYXluGcEH2Bvce13X33su91yEk0lrA8f2N9YmPJOJpkhc5v+f/ojnoODeYr6Ae1LVyzVZz7egJ8dFOJVim3F28uXo57aeDpa7ieb0PJiOMLXHRFeDPBqMhIRRwBhfwN2G7i0h7DPRzUKvB+6jTfCGECvg37nPIAdJU4vMAX0Mf2mQeiRAF8D2WapN9IVTAD+urSfaEUAE/h2dMkuNCAn0e8AT+4yc7PULICQDnEJ4wSbCKtA7wj4N7gf+/pnOVjoRGL66JNi/9k+FuK4A3eRfrujX0anzVYcsPwLNGr/cnAayJdHyk3zAZzZzIoAZv3wFOXrdsSimbLSIJXIAV+A0QM9xsIVQqryCtE2AYm2oELMA/2xvendaZsA6xQJvUJwFGI+QQrYi2AFeb3785NHqZ1kFPO1vKWM06M4FLUlggkVGALyYpyI+VdQ2bLqKqbyCJIRxvZeWEUoZGQ+gUzbuJGMAPPynKEdWlyu2klWn9F0A4ZecloHmbrzwbGdanp+wgkku7O4rUSMb9NhGzrVawOdAicwtqQ+QsB9luSLm/ARNReAP/nQ5NAAAAAElFTkSuQmCC),default;}<p></p>a, .plink, .button, .buttonback, .dialogButton, .input_butt, .imgbutton, #showImageButton, .sprite[active], #backVideoSkip, #shadowlayer, .updateButton {cursor:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABZVBMVEUAAABDQ0M0NDQ2NjI1NDI3NjIzMzP/1gAlKDb3xgI0NDM2NjKKdB3/1AD/0AAiJjdsXiQzMzMzMzIyMjL/zQAmKTZCPi/gtAfouwUsLjRMRixZUClEPy6wkRM0MzM0NDIzNDMyMjMzMzMyMjItLjQ0NDMtLjX/0QD9ygA3NjLJpA5HQi1TSyu6mBHsvgRyYiPasAmOdhwzMzNZTyo2NTKHcR4zMzMyMzMyMjMxMTIzMzMxMjQzMzMzMzMzMzMyMjIxMTH/3AAvMDQrLTSihxcdIzlBPS/ZsAk+PDDrvQXvwQRBPjDSqguYfxk8OjAxMjOihhdlWSaGcR4zMzOqjBbGoA56aSE0MzOXfhoyMjIyMjQyMjQyMjIwMDU1NTUrKyv/////1gAkKDc6OTaagBkmKTc2NjYwMTU3NjQ4ODYtLzX/0wArLTU6OTT/2AD/0AAyMzYpLDY2NTP/4wD/zQAeJDn/2QAjmktHAAAAYHRSTlMAAwb18O3+/fv39fLj/Pv68dO9Fvn29vT08/Py7+/PtV9KKhH5+ff39PPz8vLy8vDw7uvp4uLdx5FzaGJVU0M8Jvr5+Pj39/f19fX09PPy8fDv7+3t7ezm46ydgHo6Igwu7hV9AAABs0lEQVQ4y33SZ1PbQBAG4JPiqIF7740WeocQWnpC772sfFhdxqb9ftBgcYNuzI6kD7eP3pubWxSN9BajiEUdK4JV/fjqAyGpQ2nFV+ksPtV+5YNK7yURFLi5P4gr3DIRFJD5kZ+ctkgEBeDpMK1q3xDTEYC8IRn6VyIoAI3xLsM+RwxNvrwCkFPrFp5HiOkEQB7NWfiMFl0uAFMcFvApERQAcyAr4AgRFIDbwG4Qz7FtQUAD3kT/mGCHq++Erz5BADz4j34rs1FHEDDDAynz++YPfQ69S+jm3b8DMTH1d3zK4FYRy7QLfa53y87uAOJYNvNP6hM4Zf+aBLSBvPYf+NCjqiqKxk2WEeMBppjYa0CyTyuUFlcq7XMSwJujuXpCBH+oNe0suX0XzNwn/1h2LS/DYBxfINZtu6B2kto2NMkaDkAga0xTYzVpTCUsXFrA8UETRgRc8l5WQe9pvkxb1dcK+SGWUQvehBWfJi0hFs3r6eQt7ATtsjeiuhx1Jq1yV5uQoX+oWfQAxnmdp6hsDcTyuWaY9AhxPmWtJ5QJqtidbbrCeku1ZxfohpuzGr6LLFHrzy8SdsLD0lZqAAAAAElFTkSuQmCC),pointer;}<p></p>  #printCont, #printAdd, #printImage, #menu, .wind {border-width:10px; border-style:solid; border-color:inherit; border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkAQMAAADbzgrbAAAABlBMVEUAAAD9/f16ZUgdAAAAAnRSTlMAgJsrThgAAAAbSURBVAjXY0AG9v///z8AJQ2A/KFAIrsZCQAAqo8qMRrCikYAAAAASUVORK5CYII=) 10 round;}<p></p>#shadowlayer {position:absolute; left:0; top:0; right:0; bottom:0; text-align:center; z-index:1; padding:2em; font-size:1.2em;}<p></p>#shadowlayer div {margin-left:auto; margin-right:auto; max-width:50em;}<p></p>.sprite {position:absolute; max-width:none; max-height:none; opacity:0; webkit-transition:all 500ms ease; transition:all 500ms ease;}<p></p>.sprite[active]:hover {-webkit-transform:scale(1.05); transform:scale(1.05);}<p></p>#backVideo {position:absolute; top:50%; left:50%; min-width:100%; min-height:100%; width:auto; height:auto; transform:translate(-50%,-50%);}<p></p>#backVideoSkip {position:absolute; left:50%; width:1em; height:1em; line-height:1em; padding:0.2em; margin-left:-0.6em; top:50%; margin-top:-0.6em; font-size:2em; color:#fff; background-color:rgba(128,128,128,0.5); border-radius:50%; z-index:1; text-shadow:none; -webkit-transition:all 300ms ease; transition:all 300ms ease;}<p></p>#backVideoSkip:hover {-webkit-transform:scale(1.1); transform:scale(1.1);}<p></p>  #body {font-size:130%;}<p></p>  #body,input {letter-spacing:1px;}<p></p>  #console {text-shadow:none; letter-spacing:normal;}<p></p>  #page {max-width:none; margin:0 auto; position:relative;}<p></p>  #printCont {position:absolute; top:auto; left:0; right:0; bottom:0; width:100%; min-width:0; max-width:55em; height:auto; max-height:100%; padding:0 1em 0.3em 1em; margin:0 auto; border:none; z-index:1;}<p></p>  #avatarBlock {max-width:25%; float:left;}<p></p>  #print {max-width:none;}<p></p>  #printAddCont {padding:80px 50px 44px 50px; z-index:2;}<p></p>  #printAdd {padding:0 12px; max-width:800px; max-height:65%;}<p></p>  #printImage {display:block; position:absolute; top:0; left:0; right:0; bottom:0; border:none;  background-color:rgba(0,0,0,0); cursor:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABYlBMVEUAAAA/Pz82Njb///8vLy////8tLS03NzeJiYklJSX39/ciIiJBQUEzMzMzMzOZmZn///8mJiY3Nzc0NDTg4OA2NjZMTEwsLCxubm5GRkZWVlYzMzM0NDQzMzM0NDQzMzMyMjIxMTEzMzMyMjIyMjIpKSk0NDTn5+f9/f09PT3Jycns7Oza2tpycnKrq6tDQ0OysrJcXFwzMzMzMzMyMjIxMTEzMzMxMTEzMzMxMTFAQECioqLZ2dkdHR03Nzfv7+/r6+vS0tJCQkIzMzOYmJi8vLy4uLhRUVEwMDDp6emioqJpaWmLi4uGhoZlZWXGxsaQkJB6enpZWVk0NDSFhYU2NjaXl5c2NjYzMzMyMjI1NTUyMjIyMjIyMjIyMjI1NTUzMzMrKys5OTn////7+/s6OjokJCQ3Nzc0NDSampomJiYxMTEtLS39/f04ODg5OTkvLy8qKir4+PgsLCwjIyMeHh7+hwJIAAAAY3RSTlMAA/H7Bfr47eL79/r201T+9/b19fT08/Px8fDvz7u1X0o7KhYR/vn29PTz8vDw7+/u7evdkXNoYkMmCPj39/b19fT09PPy8vHx8PDw7+/v7ezs6ebk5OPgyMbBrJ2AeiIZDAnUBOCsAAABsElEQVQ4y33SZ1vqMBQH8JTYXluGcEH2Bvce13X33su91yEk0lrA8f2N9YmPJOJpkhc5v+f/ojnoODeYr6Ae1LVyzVZz7egJ8dFOJVim3F28uXo57aeDpa7ieb0PJiOMLXHRFeDPBqMhIRRwBhfwN2G7i0h7DPRzUKvB+6jTfCGECvg37nPIAdJU4vMAX0Mf2mQeiRAF8D2WapN9IVTAD+urSfaEUAE/h2dMkuNCAn0e8AT+4yc7PULICQDnEJ4wSbCKtA7wj4N7gf+/pnOVjoRGL66JNi/9k+FuK4A3eRfrujX0anzVYcsPwLNGr/cnAayJdHyk3zAZzZzIoAZv3wFOXrdsSimbLSIJXIAV+A0QM9xsIVQqryCtE2AYm2oELMA/2xvendaZsA6xQJvUJwFGI+QQrYi2AFeb3785NHqZ1kFPO1vKWM06M4FLUlggkVGALyYpyI+VdQ2bLqKqbyCJIRxvZeWEUoZGQ+gUzbuJGMAPPynKEdWlyu2klWn9F0A4ZecloHmbrzwbGdanp+wgkku7O4rUSMb9NhGzrVawOdAicwtqQ+QsB9luSLm/ARNReAP/nQ5NAAAAAElFTkSuQmCC),default;}<p></p>  #menu {position:absolute; top:56px; left:auto; right:10px; bottom:auto; max-width:240px; height:auto; max-height:50%; font-size:0.9em; line-height:1.6em; opacity:1; padding:0; border:none; box-shadow:none; z-index:0;}<p></p>  #menu, #menu *, .myinput * {background-color:rgba(0,0,0,0);}<p></p>  #menuTable {height:auto;}<p></p>  #menu span {display:block; text-align:right; float:none; clear:both; margin:0 auto; white-space:normal; word-break:break-all; width:auto; max-width:none; -webkit-backdrop-filter:none; backdrop-filter:none;}<p></p>  #menu span:hover {opacity:1; padding-left:0.2em; -webkit-transform:translate(-0.2em); transform:translate(-0.2em);}<p></p>  #menu img {display:block; float:right; clear:both; max-height:64px;}<p></p>  .button, .buttonno, .buttonback {width:auto; margin:0 auto 1em auto; text-align:center; background-color:transparent; border-style:none;}<p></p>  #printAdd, .wind, #console {-webkit-backdrop-filter:blur(3px); backdrop-filter:blur(3px);}<p></p>  .typer_1 {opacity:0;}<p></p>  .typer_2 {opacity:1; -webkit-transition:opacity 100ms ease; transition:opacity 100ms ease;}<p></p>  #buttonsList {position:absolute; width:auto; padding:1em 0; margin:0 auto; max-height:50%; top:auto; left:0; right:0; bottom:40%; overflow-y:auto; overflow-x:hidden; -webkit-overflow-scrolling:touch;}<p></p>  #buttonsList *, #menu span, #menu span:hover {-webkit-transition:all 500ms ease; transition:all 500ms ease;}<p></p>  #buttonsList *:hover {-webkit-transform:scale(1.08); transform:scale(1.08); margin-top:1em;  text-shadow:inherit;}<p></p>  #printCont, #buttonsList, #menu, #toolbar {-webkit-transition:opacity 0.5s ease; transition:opacity 0.5s ease;}<p></p>  #spacer, #showImageButton {display:none;}<p></p>  .video {margin:0 auto; padding:0; max-width:300px; height:200px;}<p></p>@media only screen and (max-width:599px), only screen and (max-height:599px) {<p></p>  #body {font-size:90%;}<p></p>  #printAddCont {padding:36px 20px 44px 20px;}<p></p>  #menu img {max-height:32px;}<p></p>  #avatarBlock {max-width:40%; max-height:100%;}<p></p>}<p></p>#printCont {<p></p>	display:block; position:absolute; top:0; bottom:0; left:0; right:0; padding:2em 1em; width:80%; text-align:center; max-width:40em;<p></p>	border-left: 4px solid #663300;<p></p>	border-right: 4px solid #663300;<p></p>}<p></p>.mylink {<p></p>	display: inline-block;<p></p>	margin-top: 0.5em;<p></p>}<p></p>.amulet {<p></p>	display: inline-block;<p></p>	width: 100px;<p></p>	height: 100px;<p></p>	background: #283b99;<p></p>	margin: 2px;<p></p>	border-radius: 5px;<p></p>	border: 1px solid black;<p></p>}",0));Location.push(new Locations(64,"83",";ToText(\"«Ну что ты стоишь, без движенья, как древень?» —<p></p>Озлобленно путник сказал дураку,<p></p>«Не понял, что дева лгала это время?<p></p>Коль хочешь, всю правду о ней расскажу.»<p></p><br><p></p>«Не надо мне правды от пришлого гостя!» —<p></p>Охотник в ответ разозлился теперь.<p></p>И лук свой, и стрелы забросив от злости,<p></p>В то место, где умер магический зверь.<p></p><br><p></p>«Я сам все спрошу! Я уверен в любимой!<p></p>Наверно напутала что-то себе...»<p></p>И стало понятно, что неизлечима<p></p>Болезнь, ведь он искренне верит в тот бред.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;75&quot;);event.stopPropagation()'>Отправиться к избушке</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;82&quot;);event.stopPropagation()'>Покинуть заколдованный лес</span></span>\"+'</span>');",1));Location.push(new Locations(65,"28",";ToText(\"«Неужто готов?» — удивленно охотник,<p></p>Поправив колчан, указал на рассвет.<p></p>«Я в той стороне слышал зверя сегодня,<p></p>К обеду, наверно, найдем его след.»<p></p><br><p></p>Их долгим был путь, удалось лишь к полудню<p></p>Застать небывалого монстра в лесу.<p></p>«Не бойся, с ним справиться будет не трудно,<p></p>Тебя я от смерти стрелою спасу.»<p></p><br><p></p>И путник со страхом ступил на поляну,<p></p>Где зверь рвал на части добычу свою.<p></p>Он злобно рычал и ворчал неустанно,<p></p>Как-будто покоя ему не дают.<p></p>\");if(ASM.var[11]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;80&quot;);event.stopPropagation()'>Сжать амулет Аннабель</span></span>\"+'</span>'+\"<p></p>\");};ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;96&quot;);event.stopPropagation()'>Привлечь внимание зверя</span></span>\"+'</span>');",1));Location.push(new Locations(66,"28/1",";ToText(\"Заблудший вернулся к скале одинокой,<p></p>Где ведьма с охотником ждали его.<p></p>Теперь он знал правду, но что в этом проку?<p></p>Придется опасный принять договор.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;28&quot;);event.stopPropagation()'>Встреча с ведьмой</span></span>\"+'</span>');",1));Location.push(new Locations(67,"26",";ToText(\"Заблудший молчал, словно речь его отнял<p></p>Недобрый колдун и в неловкой тиши<p></p>Явился к скале одинокий охотник.<p></p>Он бодро оленя на шее тащил.<p></p><br><p></p>В таком же молчании путник увидел,<p></p>Как ловко разделывал он свою дичь,<p></p>Как волк отвернулся в потешной обиде,<p></p>Лишь крикнул охотник насмешливый клич.<p></p><br><p></p>«Ну что же ты, шкура, прижался под юбку?<p></p>Небось обмельчали резцы и клыки?<p></p>Совсем заласкала зверюгу голубка.<p></p>Привык угощенья хватать из руки.»<p></p><br><p></p>И ведьма смеялась, хоть так не смеются<p></p>Над шутками свата до дочки родной.<p></p>Но голод не тетка, и мясо на блюдце<p></p>Прогнáло все прочие мысли долой.<p></p><br><p></p>Насытившись, путник с сомненьем заметил,<p></p>Как ведьма с охотником с леса идут,<p></p>Румяные оба и взгляд их приветлив<p></p>Но девы глаза — без сомнения лгут.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;27&quot;);event.stopPropagation()'>Отлучиться и вернуться к дому</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;28&quot;);event.stopPropagation()'>Остаться и помочь убить зверя</span></span>\"+'</span>');",1));Location.push(new Locations(68,"25",";ToText(\"И ведьма поведала страшную тайну,<p></p>Как вместе с семьёю в том доме жила,<p></p>Что путник встречал в бесконечных скитаньях,<p></p>Но зверь неизвестный был послан от зла.<p></p><br><p></p>Он мужа убил и любимую дочку.<p></p>Саму её спас серохвостый Монсун.<p></p>«Я травы искала по лесу той ночью<p></p>И сборы как раз подходили к концу.<p></p><br><p></p>А после явился тот самый охотник,<p></p>Что сватался к Анне по прошлой весне.<p></p>Он песню свою напевал беззаботно,<p></p>Не зная, что счастья лишился навек.<p></p><br><p></p>Как только прознал про великое горе,<p></p>Велел ему стрелы заговорить.<p></p>С надеждой поддавшись его доброй воле,<p></p>Я долго плела чародейскую нить.<p></p><br><p></p>Со зверем безумным пришло и проклятье.<p></p>Я думаю, долго гадать ни к чему...<p></p>Побудь у охотника ты на подхвате,<p></p>Я Кровью чудовища порчу сниму.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;26&quot;);event.stopPropagation()'>Далее</span></span>\"+'</span>');",1));Location.push(new Locations(69,"24",";ToText(\"«Да я не держу тебя, тут будь уверен!»<p></p>Красавица, хитро прищурив глаза<p></p>Продолжила: «Только в лесу есть и звери...<p></p>Смотри, как бы сам не вернулся назад!»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;25&quot;);event.stopPropagation()'>— Что это значит?</span></span>\"+'</span>');",1));Location.push(new Locations(70,"23",";ToText(\"«Никак!» — усмехнувшись ответила... Ведьма?<p></p>«Заклятие снять я уже не смогу.<p></p>Попытки исчерпаны все до последней.<p></p>Но если рискнешь заявиться к врагу...»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;25&quot;);event.stopPropagation()'>— Что это значит?</span></span>\"+'</span>');",1));Location.push(new Locations(71,"52",";ToText(\"Внутри, в этом царстве нетронутой пыли,<p></p>Во всем ощущалась глухая тоска.<p></p>Предметы во времени словно застыли<p></p>И вид их останется так навсегда.<p></p><br><p></p>«Так что привело, любознательный странник,<p></p>Тебя в этот проклятый магией лес?»<p></p>«Я волю утратил к дальнейшим стараньям,<p></p>Ужели найду здесь бесславный конец?»<p></p><br><p></p>«Не знаю, я долго живу без надежды.<p></p>Останься со мной. Одиночество — мрак.<p></p>Печаль моё сердце неистово режет...»<p></p>«Прости, но пока не настала пора!<p></p><br><p></p>Я странствую годы и знаешь, наверно,<p></p>Умру на дороге, как уличный пёс.<p></p>Я жить не сумею иначе, поверь мне,<p></p>Без криков толпы и без скрипа колёс.»<p></p>\");if(ASM.var[13]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;54&quot;);event.stopPropagation()'>Спросить про охотника</span></span>\"+'</span>'+\"<p></p>\");};ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;55&quot;);event.stopPropagation()'>Спросить про зверя</span></span>\"+'</span>'+\"<p></p>\");if(ASM.var[7]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;56&quot;);event.stopPropagation()'>Спросить про ведьму</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(72,"71",";ToText(\"«Он — демон, явившийся из Преисподней,<p></p>Чтоб сделки условия все соблюсти.<p></p>Я чувствую вонь от него и сегодня,<p></p>Сей дом от клейма никогда не спасти.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;73&quot;);event.stopPropagation()'>— Что было потом?</span></span>\"+'</span>');",1));Location.push(new Locations(73,"27",";ToText(\"Догадки и домыслы, словно вороны,<p></p>Стаей кружили в его голове,<p></p>Но путник спешил по тропинке знакомой,<p></p>Пока не забрезжил далекий просвет.<p></p>\");if(ASM.var[2]){;ToText(\"<p></p>В кармане покóился ключ из сарая<p></p>«Уж верно, им можно замок отворить...» —<p></p>Так в мыслях своих по пути рассуждая,<p></p>Он с призраком в доме решил говорить.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;100&quot;);event.stopPropagation()'>Войти в дом</span></span>\"+'</span>'+\"<p></p>\");}else if(!ASM.var[2]){;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='ASM.var[0] = true;PrintLocation(&quot;7&quot;);event.stopPropagation()'>Подойти к дому</span></span>\"+'</span>'+\"<p></p>\");};",1));Location.push(new Locations(74,"8",";ToText(\"Стучи, не стучи — дверь закрыта надежно.<p></p>Хозяева не были здесь много лет.<p></p>Заблудший в окно заглянул осторожно,<p></p>Но внутрь проникнуть не мог даже свет.<p></p><br><p></p>Внезапно тяжелое чье-то дыханье<p></p>Сердце зажало в стальные тиски.<p></p>И паника в миг охватила сознанье,<p></p>Лицо его стало бледнее доски.<p></p><br><p></p>Стоял за спиной небывалый и жуткий<p></p>Уродливый монстр, чья шкура — хитин.<p></p>Смотрел он на путника больше минуты,<p></p>Потом застонал и решился уйти.<p></p>\");ASM.var[0] = true;ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;7&quot;);event.stopPropagation()'>Осмотреть дом</span></span>\"+'</span>');",1));Location.push(new Locations(75,"Start",";DisplayLocation('obj');ToText(\"<p></p>\");setAudioPath('files/Kai_Engel_-_03_-_Realness.mp3');playMusic();ToText(\"<p></p>\");if(printImage.src!='files/back.png'){printImage.src='';printImage.src=pictureDefault;printImage.onload=function(){printImage.src='files/back.png';this.onload=null;};showImageForce(true);};ToText(\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;тест&quot;);event.stopPropagation()'>тест</span></span>\"+'</span>'+\"<p></p>У старой избушки, под кроною дуба,<p></p>Уставший и грустный сидит человек.<p></p>На старенькой лавке, сколоченной грубо,<p></p>Он понял, что в лес сей попался навек.<p></p><br><p></p>В какую ты сторону здесь не направься,<p></p>Любая тропа словно замкнутый круг.<p></p>Поэтому путник, сломлённый несчастьем,<p></p>Ножом истязает обломанный сук.<p></p><br><p></p>Налево: там лес, потемневший от сосен,<p></p>Скрывает зверинный и яростный рык.<p></p>Направо изба, что закрыта для гостя,<p></p>А в окнах виднеется призрачный лик.<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;3&quot;);event.stopPropagation()'>Пойти налево</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;4&quot;);event.stopPropagation()'>Пойти направо</span></span>\"+'</span>');",1));Location.push(new Locations(76,"StoryMenu",";",1));Location.push(new Locations(77,"Конец",";ToText(\"<div class=header>Конец</div><p></p>\"+\"<span class='plink' onclick='NewGame();event.stopPropagation();'>Начать заново</span>\");",1));Location.push(new Locations(78,"obj",";ASM.var[2] = false;ToText(\"<p></p>\");ASM.var[31] = false;ToText(\"<p></p>\");ASM.var[11] = false;ToText(\"<p></p>\");ASM.var[7] = false;ToText(\"<p></p>\");ASM.var[30] = false;ToText(\"<p></p>\");ASM.var[13] = false;ToText(\"<p></p>\");ASM.var[0] = false;ToText(\"<p></p>\");ASM.var[10] = false;ToText(\"<p></p>\");ASM.var[32] = false;ToText(\"<p></p>\");ASM.var[8] = '****';ToText(\"<p></p>\");ASM.var[16] = '****';ToText(\"<p></p>\");ASM.var[17] = '*****';ToText(\"<p></p>\");ASM.var[18] = '*****';ToText(\"<p></p>\");ASM.var[14] = '*****';ToText(\"<p></p>\");ASM.var[20] = 0;ToText(\"<p></p>\");ASM.var[12] = random(1,50);ToText(\"<p></p>\");ASM.var[26] = random(1,50);ToText(\"<p></p>\");ASM.var[22] = random(1,50);ToText(\"<p></p>\");ASM.var[27] = random(1,50);ToText(\"<p></p>\");ASM.var[21] = random(1,50);ToText(\"<p></p>\");ASM.var[23] = random(1,50);ToText(\"<p></p>\");ASM.var[24] = random(1,50);ToText(\"<p></p>\");ASM.var[25] = random(1,50);ToText(\"<p></p>\");ASM.var[28] = random(1,50);ToText(\"<p></p>\");ASM.var[33] = 1;ToText(\"<p></p>\");ASM.var[9] = 0;ToText(\"<p></p>\");ASM.var[15] = [];ToText(\"<p></p>\");if(ASM.var[33]==1){;ToText(\"<p></p>	\");ASM.var[9] = 'пень';ToText(\"<p></p>	\");ASM.var[15] = ['лень', 'день', 'олень', 'кистень', 'сень', 'тень', 'сирень'];ToText(\"<p></p>\");}else if(ASM.var[33]==2){;ToText(\"<p></p>	\");ASM.var[9] = 'сосна';ToText(\"<p></p>	\");ASM.var[15] = ['красна','страшна','честна','полна','блесна','весна'];ToText(\"<p></p>\");}else if(ASM.var[33]==3){;ToText(\"<p></p>	\");ASM.var[9] = 'сосна';ToText(\"<p></p>\");}else if(ASM.var[33]==4){;ToText(\"<p></p>	\");ASM.var[9] = 'сосна';ToText(\"<p></p>\");}else if(ASM.var[33]==5){;ToText(\"<p></p>	\");ASM.var[9] = 'сосна';ToText(\"<p></p>\");}else if(ASM.var[33]==6){;ToText(\"<p></p>	\");ASM.var[9] = 'сосна';ToText(\"<p></p>\");}else if(ASM.var[33]==7){;ToText(\"<p></p>	\");ASM.var[9] = 'сосна';ToText(\"<p></p>\");};ToText(\"<p></p>\");ASM.var[29] = 0;",1));Location.push(new Locations(79,"55",";ToText(\"«Хитиновый панцирь его защищает<p></p>От стрел и меча, но страшнее всего —<p></p>Под панцирем тесным душа мне родная<p></p>И жаль бесконечно отца моего.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;61&quot;);event.stopPropagation()'>— Это твой отец?!</span></span>\"+'</span>'+\"<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;62&quot;);event.stopPropagation()'>— Как это случилось?</span></span>\"+'</span>');",1));Location.push(new Locations(80,"ошибка",";for(var loop_asm0=1;loop_asm0<=ASM.var[15].length;loop_asm0++){;ToText(\"<p></p>	\");if(ASM.var[15][ASM.var[1]]!=ASM.var[4]){;ToText(\"<p></p>	\");ASM.var[34]++;ToText(\"<p></p>	Нет, придумай что-нибудь получше!<p></p>		\");if(ASM.var[34]>=6){;ToText(\"<p></p>		\"+'',true);showPrintAdd(false);ToText(\"<p></p>		Ты совсем помогать не собирался?!<p></p>		\");};ToText(\"<p></p>	\");};ToText(\"<p></p>	\");ASM.var[1]++;ToText(\"<p></p>\");};",1));Location.push(new Locations(81,"58",";ToText(\"«А я что я могла? Ведь на все мои речи<p></p>Жених раздраженно просил замолчать.<p></p>Я знала, он магией злою помечен<p></p>И в том виновата лишь пришлая мать.<p></p><br><p></p>Тогда я решила схватиться за вилы,<p></p>Прибить негодяйку и сжечь на костре.<p></p>Чернющая злость на меня накатила,<p></p>Когда повстречала её на заре.<p></p><br><p></p>Увидев меня, ведьма лишь рассмеялась,<p></p>Картинно подставив открытую грудь.<p></p>В тот миг не хватило мне самую малость,<p></p>Чтобы вилы с размаха в мерзавку воткнуть!<p></p><br><p></p>Схватил мои руки жених непутёвый<p></p>И с силою бросил на землю меня.<p></p>Тогда я ему не сказала ни слова,<p></p>Но ненависть жгла пострашнее огня.»<p></p>\"+\"<span class='mylink'>\"+\"<span><span class='plink' onclick='PrintLocation(&quot;60&quot;);event.stopPropagation()'>— Что было потом?</span></span>\"+'</span>');",1));Location.push(new Locations(82,"тест",";ToText(\"А ну-ка придумай мне рифмву к слову \"+ASM.var[9]+''+\"! Да не просто рифму, а целых три рифмы!<p></p>\");var value=ASM.var[4];if(!value && value!=0){value='';}else{value=value.toString();};var focus='';if(!isTouchDevice){focus='autofocus';};ToText(\"<div class='myinput'><form action='' onsubmit='if(this.childNodes[0].value.trim()!=&quot;&quot;){ASM.var[4]=this.childNodes[0].value.trim();if(!isNaN(ASM.var[4])){ASM.var[4]=parseFloat(ASM.var[4]);} PrintLocation(&quot;тест&quot;);} this.childNodes[0].select(); return false;'><input class='input_text' type='text' onclick='event.stopPropagation();' autocapitalize='off' size='10' value='\"+value+\"'\"+focus+\"><input class='input_butt' type='submit' onclick='event.stopPropagation();' value='✓'></form></div>\");",1));Location.push(new Locations(83,"рифмы",";DisplayLocation('тест');ToText(\"<p></p>\");DisplayLocation('ошибка');ToText(\"<p></p>\");ASM.var[1] = 0;ToText(\"<p></p>\");for(var loop_asm1=1;loop_asm1<=ASM.var[15].length;loop_asm1++){;ToText(\"<p></p>	\");if(ASM.var[15][ASM.var[1]]==ASM.var[4]){;ToText(\"<p></p>	\");ASM.var[29]++;ToText(\"<p></p>	Вот, это уже лучше, но нужно еще.<p></p>		\");if(ASM.var[29]>=3){;ToText(\"<p></p>		\"+'',true);showPrintAdd(false);ToText(\"<p></p>		Ну все, все, справился. Хватит пока, можешь идти.<p></p>		\");};ToText(\"<p></p>	\");};ToText(\"<p></p>	\");ASM.var[1]++;ToText(\"<p></p>\");};ToText(\"<p></p>\"+ASM.var[29]+'');",1));var ASM = {var:[],cur:[],prv:[]};function drawSprite(id,x,y,width,height,opacity,origin,time,passage) {if (!id) { return; }var mysprite = new Image();if (!/https?:\/\//i.test(id)) {mysprite.src = GetFileData(id).src;if (!mysprite) {return;};} else {mysprite.src = id;mysprite.onerror = function() {badImageShow(this);};}if (passage) {mysprite.setAttribute('active',passage);onclickSprite(mysprite);}mysprite.onload = function() {if (origin===undefined || origin<1) {origin = 1;}else if (origin>4) {origin = 4;}if (time===undefined || time<0) {time = 0;}else if (time>10000) {time = 10000;}if (width===undefined && height===undefined) {width = 'auto'; height = '100%';}else if (width===undefined && height!==undefined) {width = 'auto';}else if (height===undefined && width!==undefined) {height = 'auto';}if (x===undefined && y===undefined) {x = 0; y = 0; mysprite.style.cssText = 'margin:auto;bottom:0;right:0;display:table;';}if (x===undefined && width=='auto') {x = 0; mysprite.style.cssText = 'margin-left:auto;margin-right:auto;right:0;display:table;';}else if (x===undefined && width!='auto') {x = (100-width)/2;}if (y===undefined && height=='auto') {y = 0; mysprite.style.cssText = 'margin-top:auto;margin-bottom:auto;bottom:0;display:table;';}else if (y===undefined && height!='auto') {y = (100-height)/2;}var l = 'left'; var t = 'top';if (origin==2) {l = 'right';}else if (origin==3) {t = 'bottom';}else if (origin==4) {l = 'right';t = 'bottom';}if (x!='auto') {mysprite.style[l] = x+'%';}if (y!='auto') {mysprite.style[t] = y+'%';}if (width!='auto') {mysprite.style.width = width+'%';}if (height!='auto') {mysprite.style.height = height+'%';}if (opacity===undefined || opacity>100) {opacity = 100;}else if (opacity<0) {opacity = 0;}mysprite.className += 'sprite';mysprite.style.WebkitAnimationDuration = time+'ms';mysprite.style.animationDuration = time+'ms';mysprite.style.opacity = opacity/100;if (isAnimation && animation_enable) {Animate(mysprite,getEffectName(SpriteEffect));}var removeAnimDur = function(s) {return s.replace(/ /g,'').replace(/(-webkit-)?animation-duration:.+?;/g,'');};var css1 = removeAnimDur(mysprite.style.cssText);var found = false;var sprites = spritesDiv.querySelectorAll('*');for (var i=0; i<sprites.length; i++) {if (sprites[i].src==mysprite.src) {var css2 = removeAnimDur(sprites[i].style.cssText);if (css2==css1) {found = true; break;}}}if (!found) {spritesDiv.appendChild(mysprite);}showImageForce(false);this.onload = null;}}function clearSprite(id,time) {var sprites = spritesDiv.getElementsByTagName('IMG');for (var i=0; i<sprites.length; i++) {var sprite = sprites[i];if (sprite.src==GetFileData(id).src) {var remove = function() {if (sprite.parentNode==spritesDiv) {spritesDiv.removeChild(sprite);}};if (!time || !isAnimation || !animation_enable) {remove();} else {if (time>10000) {time = 10000;}sprite.style.WebkitAnimationDuration = time+'ms';sprite.style.animationDuration = time+'ms';Animate(sprite,'effect_sprite_hide',function(){remove();});}break;}}}function clearSprites() {spritesDiv.innerHTML = '';}function onclickSprite(mysprite) {if (mysprite.hasAttribute('active')) {mysprite.onclick = function(event) {event.stopPropagation();PopupLocation(mysprite.getAttribute('active'));}}}var buildInfo = {label:'15223075839900.20857469962111597', date:'29.3.2018'};var b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function base64encode(str) {str = unescape(encodeURIComponent(str));var b64encoded = '';var chr1, chr2, chr3;var enc1, enc2, enc3, enc4;for (var i=0; i<str.length;) {chr1 = str.charCodeAt(i++);chr2 = str.charCodeAt(i++);chr3 = str.charCodeAt(i++);enc1 = chr1 >> 2;enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);enc3 = isNaN(chr2) ? 64:(((chr2 & 15) << 2) | (chr3 >> 6));enc4 = isNaN(chr3) ? 64:(chr3 & 63);b64encoded += b64chars.charAt(enc1) + b64chars.charAt(enc2) + b64chars.charAt(enc3) + b64chars.charAt(enc4);}return b64encoded;}function base64decode(str) {var b64decoded = '';var chr1, chr2, chr3;var enc1, enc2, enc3, enc4;str = str.replace(/[^a-z0-9+/=]/gi, '');for (var i=0; i<str.length;) {enc1 = b64chars.indexOf(str.charAt(i++));enc2 = b64chars.indexOf(str.charAt(i++));enc3 = b64chars.indexOf(str.charAt(i++));enc4 = b64chars.indexOf(str.charAt(i++));chr1 = (enc1 << 2) | (enc2 >> 4);chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);chr3 = ((enc3 & 3) << 6) | enc4;b64decoded = b64decoded + String.fromCharCode(chr1);if (enc3 < 64) {b64decoded += String.fromCharCode(chr2);}if (enc4 < 64) {b64decoded += String.fromCharCode(chr3);}}return decodeURIComponent(escape(b64decoded));}function urlencode(str){str = (str+'').toString();return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\(/g, '%28').replace(/\)/g, '%29').replace(/\*/g, '%2A').replace(/%20/g, '+');}var filename = Trim(window.location.pathname.substring(window.location.pathname.lastIndexOf('/')+1));if (!filename) {filename='test';}function inLibNow(){if (!navigator.onLine) {return false;}var myhost = window.location.hostname;if (myhost=='hyperbook.ru' || myhost=='ifiction.net' || myhost=='novels.ru') {if (filename!='test') {return true;}else {return false;}}else {return false;}}function getXmlHttp(){var xmlhttp;try {xmlhttp = new ActiveXObject('Msxml2.XMLHTTP');} catch (e) {try {xmlhttp = new ActiveXObject('Microsoft.XMLHTTP');} catch (E) {xmlhttp = false;}}if (!xmlhttp && typeof XMLHttpRequest!='undefined') {xmlhttp = new XMLHttpRequest();}return xmlhttp;}function getServerData(url){var xmlhttp = getXmlHttp();xmlhttp.open('GET', url, false);xmlhttp.send(null);return xmlhttp.responseText;}function putServerData(url,data){var xmlhttp = getXmlHttp();xmlhttp.open('POST', url, false);xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');xmlhttp.send(data);if(xmlhttp.status == 200){return xmlhttp.responseText;}else{return '';}}function SavedList(save,savesList){var save_slots = 6;savesList = [];var item;if (inLibNow()) {var url = 'http://'+window.location.hostname+'/command.php?login='+urlencode(getCookie('login'))+'&password='+urlencode(getCookie('password'))+'&com=savedstorylist&value='+filename;savesList = getServerData(url).split(',');}else {for (var i=1; i<=save_slots; i++) {if (isLocalStorageAvailable()) {item = localStorage.getItem(i+'_'+filename);}else {item = getCookie(i+'_'+filename);}if (item) {savesList.push('1');} else {savesList.push('');}}}var com = '';if (save) {com='SaveStory';} else {com='LoadStory';}var str = '';for (var i=1; i<=save_slots; i++) {if (savesList[i-1]) {if (save) {var savep='Перезаписать';} else {var savep='Восстановить';}str += '<div><span class=plink onclick="showPrefs(true);'+com+'('+i+');">'+savep+'</span></div>';} else {if (save) {str += '<div><span class=plink onclick="showPrefs(true);'+com+'('+i+');">Сохранить</span></div>';} else {str += '<div>Пусто</div>';}}}return str;}function SaveSuccess(){AlertMessage('Состояние сохранено');}function SaveError(){AlertMessage('Ошибка при сохранении!');}function SaveStory(slot_num){if (slot_num===undefined) { slot_num = 1; };var status = '';if (inLibNow()) {status = SaveStoryLib(SaveStoryData(),slot_num);}else {status = SaveStoryLocal(SaveStoryData(),slot_num);}if (status!='') {SaveSuccess();}else {SaveError();}}function SaveStoryLib(data,slot_num){var url = 'http://'+window.location.hostname+'/command.php?login='+urlencode(getCookie('login'))+'&password='+urlencode(getCookie('password'))+'&com=savestory&value='+filename+'&slot='+slot_num;return putServerData(url,SaveStoryData());}function SaveStoryLocal(data,slot_num){var savedOk = false;if (isLocalStorageAvailable()) {localStorage.setItem(slot_num+'_'+filename,data);if (localStorage.getItem(slot_num+'_'+filename)==data) {savedOk=true;}} else {setCookie(slot_num+'_'+filename,data);if (getCookie(slot_num+'_'+filename)==data) {savedOk=true;}}if (savedOk) {return 'ok';}else {return '';}}function LoadStory(slot_num){if (slot_num===undefined) { slot_num = 1; };var data = '';if (inLibNow()) {data = LoadStoryLib(slot_num);}else {data = LoadStoryLocal(slot_num);}if (data) {LoadStoryData(data);}else {AlertMessage('Не удалось восстановить состояние!');}}function LoadStoryLib(slot_num){var url = 'http://'+window.location.hostname+'/command.php?login='+urlencode(getCookie('login'))+'&password='+urlencode(getCookie('password'))+'&com=loadstory&value='+filename+'&slot='+slot_num;return getServerData(url);}function LoadStoryLocal(slot_num){if (isLocalStorageAvailable()) {return localStorage.getItem(slot_num+'_'+filename);} else {return getCookie(slot_num+'_'+filename);}}function SaveLoadWind(save,savesList) {if (!savesList) {var inner = SavedList(save);} else {var inner = SavedList(save,savesList);}if (inner) {prefsDiv.innerHTML = inner;prefsDiv.style.display = 'block';Animate(prefsDiv,'effect_fade_fast');}}function SaveStoryData() {var Save = {};Save.buildInfo = buildInfo;Save.curPassage = CurLocation.Title;Save.prvPassage = PrevLocation.Title;Save.fontSize = fontSize;Save.animationEnable = animation_enable;Save.audioEnable = audio_enable;Save.visitedList = visitedList;Save.music = musicAudio.src;Save.video = videoDiv.innerHTML;Save.image = printImage.src;Save.filters = printImage.style.filter;Save.sprites = spritesDiv.innerHTML;Save.menu = menuDiv.innerHTML;Save.title = printTitle.innerHTML;Save.events = Events;Save.timeToFade = TimeToFade;Save.spriteEffect = SpriteEffect;Save.textEffect = TextEffect;Save.gender = asmSys_gender;Save.choice = asmSys_choice;Save.avatar = avatarBlock.innerHTML;Save.vars = ASM.var;return base64encode(JSON.stringify(Save));}function LoadStoryData(data) {try {closeWinds();var Save = JSON.parse(base64decode(data));if (Save.buildInfo.label!=buildInfo.label) {AlertMessage('Извините, это сохранение из другой версии'); return;}stopAllEvents();CurLocation = GetLocation(Save.curPassage);PrevLocation = GetLocation(Save.prvPassage);fontSize = Save.fontSize;printDiv.style.fontSize = fontSize+'em';printAdd.style.fontSize = fontSize+'em';animation_enable = Save.animationEnable;videoDiv.innerHTML = Save.video;audio_enable = Save.audioEnable;musicAudio.src = Save.music; playMusic();visitedList = Save.visitedList;printImage.src = Save.image;printImage.style.filter = Save.filters;menuDiv.innerHTML = Save.menu;printTitle.innerHTML = Save.title;var eventsArr = Save.events;for (var i=0; i<eventsArr.length; i++) {var eventArr = eventsArr[i].split(':');startEvent(Location[eventArr[0]].Title,eventArr[1]);}TimeToFade = Save.timeToFade;SpriteEffect = Save.spriteEffect;TextEffect = Save.textEffect;asmSys_gender = Save.gender;asmSys_choice = Save.choice;avatarBlock.innerHTML = Save.avatar;ASM.var = Save.vars;ASM.cur = CloneObject(ASM.var);showCover = false;restoreSprites(Save.sprites);PrintLocation(CurLocation.Title);NoBack();} catch(e) {}}function NewGame(first) {visitedList = [];TimeToFade = 700;asmSys_gender = 0;asmSys_choice = 0;closeWinds();ToText('',true);setAudioPath(); stopMusic();printImage.style.filter = '';printAddText.innerHTML = '';printTitle.innerHTML = '';printImage.src = pictureDefault;clearSprites();scrollDiv();CurLocation = '';NoBack();for (var i=0; i<35; i++) {ASM.var[i] = undefined;ASM.cur[i] = undefined;ASM.prv[i] = undefined;}stopAllEvents();var StoryAuthor = getAsmSys_story('storyauthor');var StoryTitle = getAsmSys_story('storytitle');var StorySubtitle = getAsmSys_story('storysubtitle');pageDiv.style.display = 'none'; toolbarDiv.style.display = 'none';showCover = true;showShadow(true);var layer = $('shadowlayer');layer.onclick = function() {if (showCover) {StartGame();};};layer.innerHTML = "<table width='100%' height='100%' cellpadding='0' cellspacing='0'><tr><td valign='middle'><div id='storyauthor'>"+StoryAuthor+"</div><div id='storytitle'>"+StoryTitle+"</div><div id='storysubtitle'>"+StorySubtitle+"</div></td></tr></table>";if (window.location.hash!='#screenshot') {var storyauthor = $('storyauthor');storyauthor.style.WebkitAnimationDuration = '5000ms';storyauthor.style.animationDuration = '5000ms';storyauthor.style.WebkitAnimationDelay = '1000ms';storyauthor.style.animationDelay = '1000ms';storyauthor.className = 'effect_fade';var storytitle = $('storytitle');storytitle.style.WebkitAnimationDuration = '5000ms';storytitle.style.animationDuration = '5000ms';storytitle.style.WebkitAnimationDelay = '3000ms';storytitle.style.animationDelay = '3000ms';storytitle.className = 'effect_fade';var storysubtitle = $('storysubtitle');storysubtitle.style.WebkitAnimationDuration = '5000ms';storysubtitle.style.animationDuration = '5000ms';storysubtitle.style.WebkitAnimationDelay = '5000ms';storysubtitle.style.animationDelay = '5000ms';storysubtitle.className = 'effect_fade';var copyraxma = $('copyraxma');if (copyraxma) {copyraxma.style.WebkitAnimationDuration = '5000ms';copyraxma.style.animationDuration = '5000ms';copyraxma.style.WebkitAnimationDelay = '7000ms';copyraxma.style.animationDelay = '7000ms';copyraxma.className = 'effect_fade';}layer.style.WebkitAnimationDelay = '12000ms';layer.style.animationDelay = '12000ms';layer.className = 'effect_flash';}}function StartGame(){musicAudio.play();showCover = false;pageDiv.style.display = 'block'; toolbarDiv.style.display = 'block';MenuInit();PrintLocation('Start');NoBack();}} catch (error) {  printDiv.innerHTML='Произошла ошибка кода:<p>'+error.name+'<br>'+error.message;}</script></body></html>